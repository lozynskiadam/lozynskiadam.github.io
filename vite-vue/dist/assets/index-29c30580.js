var Wo=Object.defineProperty;var zo=(e,t,n)=>t in e?Wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(zo(e,typeof t!="symbol"?t+"":t,n),n),ns=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var pe=(e,t,n)=>(ns(e,t,"read from private field"),n?n.call(e):t.get(e)),kt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},mn=(e,t,n,s)=>(ns(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);var ei=(e,t,n,s)=>({set _(i){mn(e,t,i,n)},get _(){return pe(e,t,s)}}),me=(e,t,n)=>(ns(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ss(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const rt={},Fe=[],Ht=()=>{},Vo=()=>!1,Go=/^on[^a-z]/,$n=e=>Go.test(e),ks=e=>e.startsWith("onUpdate:"),gt=Object.assign,Os=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},No=Object.prototype.hasOwnProperty,Q=(e,t)=>No.call(e,t),U=Array.isArray,Ke=e=>Un(e)==="[object Map]",Hi=e=>Un(e)==="[object Set]",z=e=>typeof e=="function",dt=e=>typeof e=="string",Ms=e=>typeof e=="symbol",at=e=>e!==null&&typeof e=="object",Bi=e=>at(e)&&z(e.then)&&z(e.catch),ji=Object.prototype.toString,Un=e=>ji.call(e),Yo=e=>Un(e).slice(8,-1),qi=e=>Un(e)==="[object Object]",Fs=e=>dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cn=Ss(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jo=/-(\w)/g,Nt=Wn(e=>e.replace(Jo,(t,n)=>n?n.toUpperCase():"")),Qo=/\B([A-Z])/g,je=Wn(e=>e.replace(Qo,"-$1").toLowerCase()),zn=Wn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ss=Wn(e=>e?`on${zn(e)}`:""),In=(e,t)=>!Object.is(e,t),is=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Sn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Xo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ni;const us=()=>ni||(ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function De(e){if(U(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=dt(s)?nr(s):De(s);if(i)for(const o in i)t[o]=i[o]}return t}else{if(dt(e))return e;if(at(e))return e}}const Zo=/;(?![^(]*\))/g,tr=/:([^]+)/,er=/\/\*[^]*?\*\//g;function nr(e){const t={};return e.replace(er,"").split(Zo).forEach(n=>{if(n){const s=n.split(tr);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Vn(e){let t="";if(dt(e))t=e;else if(U(e))for(let n=0;n<e.length;n++){const s=Vn(e[n]);s&&(t+=s+" ")}else if(at(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const sr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ir=Ss(sr);function $i(e){return!!e||e===""}const Se=e=>dt(e)?e:e==null?"":U(e)||at(e)&&(e.toString===ji||!z(e.toString))?JSON.stringify(e,Ui,2):String(e),Ui=(e,t)=>t&&t.__v_isRef?Ui(e,t.value):Ke(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Hi(t)?{[`Set(${t.size})`]:[...t.values()]}:at(t)&&!U(t)&&!qi(t)?String(t):t;let Ft;class or{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ft,!t&&Ft&&(this.index=(Ft.scopes||(Ft.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ft;try{return Ft=this,t()}finally{Ft=n}}}on(){Ft=this}off(){Ft=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function rr(e,t=Ft){t&&t.active&&t.effects.push(e)}function lr(){return Ft}const Ks=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Wi=e=>(e.w&fe)>0,zi=e=>(e.n&fe)>0,ar=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fe},cr=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];Wi(i)&&!zi(i)?i.delete(e):t[n++]=i,i.w&=~fe,i.n&=~fe}t.length=n}},hs=new WeakMap;let Ne=0,fe=1;const ds=30;let Kt;const _e=Symbol(""),ps=Symbol("");class Rs{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,rr(this,s)}run(){if(!this.active)return this.fn();let t=Kt,n=ae;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Kt,Kt=this,ae=!0,fe=1<<++Ne,Ne<=ds?ar(this):si(this),this.fn()}finally{Ne<=ds&&cr(this),fe=1<<--Ne,Kt=this.parent,ae=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Kt===this?this.deferStop=!0:this.active&&(si(this),this.onStop&&this.onStop(),this.active=!1)}}function si(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ae=!0;const Vi=[];function qe(){Vi.push(ae),ae=!1}function $e(){const e=Vi.pop();ae=e===void 0?!0:e}function Pt(e,t,n){if(ae&&Kt){let s=hs.get(e);s||hs.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Ks()),Gi(i)}}function Gi(e,t){let n=!1;Ne<=ds?zi(e)||(e.n|=fe,n=!Wi(e)):n=!e.has(Kt),n&&(e.add(Kt),Kt.deps.push(e))}function te(e,t,n,s,i,o){const r=hs.get(e);if(!r)return;let l=[];if(t==="clear")l=[...r.values()];else if(n==="length"&&U(e)){const c=Number(s);r.forEach((u,p)=>{(p==="length"||p>=c)&&l.push(u)})}else switch(n!==void 0&&l.push(r.get(n)),t){case"add":U(e)?Fs(n)&&l.push(r.get("length")):(l.push(r.get(_e)),Ke(e)&&l.push(r.get(ps)));break;case"delete":U(e)||(l.push(r.get(_e)),Ke(e)&&l.push(r.get(ps)));break;case"set":Ke(e)&&l.push(r.get(_e));break}if(l.length===1)l[0]&&ms(l[0]);else{const c=[];for(const u of l)u&&c.push(...u);ms(Ks(c))}}function ms(e,t){const n=U(e)?e:[...e];for(const s of n)s.computed&&ii(s);for(const s of n)s.computed||ii(s)}function ii(e,t){(e!==Kt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const fr=Ss("__proto__,__v_isRef,__isVue"),Ni=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ms)),ur=Ls(),hr=Ls(!1,!0),dr=Ls(!0),oi=pr();function pr(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Z(this);for(let o=0,r=this.length;o<r;o++)Pt(s,"get",o+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(Z)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qe();const s=Z(this)[t].apply(this,n);return $e(),s}}),e}function mr(e){const t=Z(this);return Pt(t,"has",e),t.hasOwnProperty(e)}function Ls(e=!1,t=!1){return function(s,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Or:Zi:t?Xi:Qi).get(s))return s;const r=U(s);if(!e){if(r&&Q(oi,i))return Reflect.get(oi,i,o);if(i==="hasOwnProperty")return mr}const l=Reflect.get(s,i,o);return(Ms(i)?Ni.has(i):fr(i))||(e||Pt(s,"get",i),t)?l:bt(l)?r&&Fs(i)?l:l.value:at(l)?e?to(l):Bs(l):l}}const gr=Yi(),yr=Yi(!0);function Yi(e=!1){return function(n,s,i,o){let r=n[s];if(nn(r)&&bt(r)&&!bt(i))return!1;if(!e&&(!gs(i)&&!nn(i)&&(r=Z(r),i=Z(i)),!U(n)&&bt(r)&&!bt(i)))return r.value=i,!0;const l=U(n)&&Fs(s)?Number(s)<n.length:Q(n,s),c=Reflect.set(n,s,i,o);return n===Z(o)&&(l?In(i,r)&&te(n,"set",s,i):te(n,"add",s,i)),c}}function vr(e,t){const n=Q(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&te(e,"delete",t,void 0),s}function xr(e,t){const n=Reflect.has(e,t);return(!Ms(t)||!Ni.has(t))&&Pt(e,"has",t),n}function br(e){return Pt(e,"iterate",U(e)?"length":_e),Reflect.ownKeys(e)}const Ji={get:ur,set:gr,deleteProperty:vr,has:xr,ownKeys:br},wr={get:dr,set(e,t){return!0},deleteProperty(e,t){return!0}},_r=gt({},Ji,{get:hr,set:yr}),Ds=e=>e,Gn=e=>Reflect.getPrototypeOf(e);function gn(e,t,n=!1,s=!1){e=e.__v_raw;const i=Z(e),o=Z(t);n||(t!==o&&Pt(i,"get",t),Pt(i,"get",o));const{has:r}=Gn(i),l=s?Ds:n?$s:qs;if(r.call(i,t))return l(e.get(t));if(r.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function yn(e,t=!1){const n=this.__v_raw,s=Z(n),i=Z(e);return t||(e!==i&&Pt(s,"has",e),Pt(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function vn(e,t=!1){return e=e.__v_raw,!t&&Pt(Z(e),"iterate",_e),Reflect.get(e,"size",e)}function ri(e){e=Z(e);const t=Z(this);return Gn(t).has.call(t,e)||(t.add(e),te(t,"add",e,e)),this}function li(e,t){t=Z(t);const n=Z(this),{has:s,get:i}=Gn(n);let o=s.call(n,e);o||(e=Z(e),o=s.call(n,e));const r=i.call(n,e);return n.set(e,t),o?In(t,r)&&te(n,"set",e,t):te(n,"add",e,t),this}function ai(e){const t=Z(this),{has:n,get:s}=Gn(t);let i=n.call(t,e);i||(e=Z(e),i=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return i&&te(t,"delete",e,void 0),o}function ci(){const e=Z(this),t=e.size!==0,n=e.clear();return t&&te(e,"clear",void 0,void 0),n}function xn(e,t){return function(s,i){const o=this,r=o.__v_raw,l=Z(r),c=t?Ds:e?$s:qs;return!e&&Pt(l,"iterate",_e),r.forEach((u,p)=>s.call(i,c(u),c(p),o))}}function bn(e,t,n){return function(...s){const i=this.__v_raw,o=Z(i),r=Ke(o),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,u=i[e](...s),p=n?Ds:t?$s:qs;return!t&&Pt(o,"iterate",c?ps:_e),{next(){const{value:T,done:k}=u.next();return k?{value:T,done:k}:{value:l?[p(T[0]),p(T[1])]:p(T),done:k}},[Symbol.iterator](){return this}}}}function ne(e){return function(...t){return e==="delete"?!1:this}}function Cr(){const e={get(o){return gn(this,o)},get size(){return vn(this)},has:yn,add:ri,set:li,delete:ai,clear:ci,forEach:xn(!1,!1)},t={get(o){return gn(this,o,!1,!0)},get size(){return vn(this)},has:yn,add:ri,set:li,delete:ai,clear:ci,forEach:xn(!1,!0)},n={get(o){return gn(this,o,!0)},get size(){return vn(this,!0)},has(o){return yn.call(this,o,!0)},add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear"),forEach:xn(!0,!1)},s={get(o){return gn(this,o,!0,!0)},get size(){return vn(this,!0)},has(o){return yn.call(this,o,!0)},add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear"),forEach:xn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=bn(o,!1,!1),n[o]=bn(o,!0,!1),t[o]=bn(o,!1,!0),s[o]=bn(o,!0,!0)}),[e,n,t,s]}const[Tr,Pr,Er,Ar]=Cr();function Hs(e,t){const n=t?e?Ar:Er:e?Pr:Tr;return(s,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Q(n,i)&&i in s?n:s,i,o)}const Ir={get:Hs(!1,!1)},Sr={get:Hs(!1,!0)},kr={get:Hs(!0,!1)},Qi=new WeakMap,Xi=new WeakMap,Zi=new WeakMap,Or=new WeakMap;function Mr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fr(e){return e.__v_skip||!Object.isExtensible(e)?0:Mr(Yo(e))}function Bs(e){return nn(e)?e:js(e,!1,Ji,Ir,Qi)}function Kr(e){return js(e,!1,_r,Sr,Xi)}function to(e){return js(e,!0,wr,kr,Zi)}function js(e,t,n,s,i){if(!at(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=Fr(e);if(r===0)return e;const l=new Proxy(e,r===2?s:n);return i.set(e,l),l}function Re(e){return nn(e)?Re(e.__v_raw):!!(e&&e.__v_isReactive)}function nn(e){return!!(e&&e.__v_isReadonly)}function gs(e){return!!(e&&e.__v_isShallow)}function eo(e){return Re(e)||nn(e)}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}function no(e){return Sn(e,"__v_skip",!0),e}const qs=e=>at(e)?Bs(e):e,$s=e=>at(e)?to(e):e;function Rr(e){ae&&Kt&&(e=Z(e),Gi(e.dep||(e.dep=Ks())))}function Lr(e,t){e=Z(e);const n=e.dep;n&&ms(n)}function bt(e){return!!(e&&e.__v_isRef===!0)}function Dr(e){return bt(e)?e.value:e}const Hr={get:(e,t,n)=>Dr(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return bt(i)&&!bt(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function so(e){return Re(e)?e:new Proxy(e,Hr)}class Br{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Rs(t,()=>{this._dirty||(this._dirty=!0,Lr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=Z(this);return Rr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function jr(e,t,n=!1){let s,i;const o=z(e);return o?(s=e,i=Ht):(s=e.get,i=e.set),new Br(s,i,o||!i,n)}function ce(e,t,n,s){let i;try{i=s?e(...s):e()}catch(o){Nn(o,t,n)}return i}function Bt(e,t,n,s){if(z(e)){const o=ce(e,t,n,s);return o&&Bi(o)&&o.catch(r=>{Nn(r,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Bt(e[o],t,n,s));return i}function Nn(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,l=n;for(;o;){const u=o.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,r,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){ce(c,null,10,[e,r,l]);return}}qr(e,n,i,s)}function qr(e,t,n,s=!0){console.error(e)}let sn=!1,ys=!1;const yt=[];let Wt=0;const Le=[];let Qt=null,ve=0;const io=Promise.resolve();let Us=null;function $r(e){const t=Us||io;return e?t.then(this?e.bind(this):e):t}function Ur(e){let t=Wt+1,n=yt.length;for(;t<n;){const s=t+n>>>1;on(yt[s])<e?t=s+1:n=s}return t}function Ws(e){(!yt.length||!yt.includes(e,sn&&e.allowRecurse?Wt+1:Wt))&&(e.id==null?yt.push(e):yt.splice(Ur(e.id),0,e),oo())}function oo(){!sn&&!ys&&(ys=!0,Us=io.then(lo))}function Wr(e){const t=yt.indexOf(e);t>Wt&&yt.splice(t,1)}function zr(e){U(e)?Le.push(...e):(!Qt||!Qt.includes(e,e.allowRecurse?ve+1:ve))&&Le.push(e),oo()}function fi(e,t=sn?Wt+1:0){for(;t<yt.length;t++){const n=yt[t];n&&n.pre&&(yt.splice(t,1),t--,n())}}function ro(e){if(Le.length){const t=[...new Set(Le)];if(Le.length=0,Qt){Qt.push(...t);return}for(Qt=t,Qt.sort((n,s)=>on(n)-on(s)),ve=0;ve<Qt.length;ve++)Qt[ve]();Qt=null,ve=0}}const on=e=>e.id==null?1/0:e.id,Vr=(e,t)=>{const n=on(e)-on(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function lo(e){ys=!1,sn=!0,yt.sort(Vr);const t=Ht;try{for(Wt=0;Wt<yt.length;Wt++){const n=yt[Wt];n&&n.active!==!1&&ce(n,null,14)}}finally{Wt=0,yt.length=0,ro(),sn=!1,Us=null,(yt.length||Le.length)&&lo()}}function Gr(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||rt;let i=n;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in s){const p=`${r==="modelValue"?"model":r}Modifiers`,{number:T,trim:k}=s[p]||rt;k&&(i=n.map(M=>dt(M)?M.trim():M)),T&&(i=n.map(Xo))}let l,c=s[l=ss(t)]||s[l=ss(Nt(t))];!c&&o&&(c=s[l=ss(je(t))]),c&&Bt(c,e,6,i);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Bt(u,e,6,i)}}function ao(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const o=e.emits;let r={},l=!1;if(!z(e)){const c=u=>{const p=ao(u,t,!0);p&&(l=!0,gt(r,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(at(e)&&s.set(e,null),null):(U(o)?o.forEach(c=>r[c]=null):gt(r,o),at(e)&&s.set(e,r),r)}function Yn(e,t){return!e||!$n(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(e,t[0].toLowerCase()+t.slice(1))||Q(e,je(t))||Q(e,t))}let Rt=null,co=null;function kn(e){const t=Rt;return Rt=e,co=e&&e.type.__scopeId||null,t}function Nr(e,t=Rt,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&wi(-1);const o=kn(t);let r;try{r=e(...i)}finally{kn(o),s._d&&wi(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function os(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:o,propsOptions:[r],slots:l,attrs:c,emit:u,render:p,renderCache:T,data:k,setupState:M,ctx:X,inheritAttrs:j}=e;let Y,g;const w=kn(e);try{if(n.shapeFlag&4){const _=i||s;Y=Ut(p.call(_,_,T,o,M,k,X)),g=c}else{const _=t;Y=Ut(_.length>1?_(o,{attrs:c,slots:l,emit:u}):_(o,null)),g=t.props?c:Yr(c)}}catch(_){Ze.length=0,Nn(_,e,1),Y=Gt(Te)}let A=Y;if(g&&j!==!1){const _=Object.keys(g),{shapeFlag:x}=A;_.length&&x&7&&(r&&_.some(ks)&&(g=Jr(g,r)),A=He(A,g))}return n.dirs&&(A=He(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),Y=A,kn(w),Y}const Yr=e=>{let t;for(const n in e)(n==="class"||n==="style"||$n(n))&&((t||(t={}))[n]=e[n]);return t},Jr=(e,t)=>{const n={};for(const s in e)(!ks(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Qr(e,t,n){const{props:s,children:i,component:o}=e,{props:r,children:l,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?ui(s,r,u):!!r;if(c&8){const p=t.dynamicProps;for(let T=0;T<p.length;T++){const k=p[T];if(r[k]!==s[k]&&!Yn(u,k))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?ui(s,r,u):!0:!!r;return!1}function ui(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(t[o]!==e[o]&&!Yn(n,o))return!0}return!1}function Xr({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Zr=e=>e.__isSuspense;function tl(e,t){t&&t.pendingBranch?U(e)?t.effects.push(...e):t.effects.push(e):zr(e)}const wn={};function rs(e,t,n){return fo(e,t,n)}function fo(e,t,{immediate:n,deep:s,flush:i,onTrack:o,onTrigger:r}=rt){var l;const c=lr()===((l=mt)==null?void 0:l.scope)?mt:null;let u,p=!1,T=!1;if(bt(e)?(u=()=>e.value,p=gs(e)):Re(e)?(u=()=>e,s=!0):U(e)?(T=!0,p=e.some(_=>Re(_)||gs(_)),u=()=>e.map(_=>{if(bt(_))return _.value;if(Re(_))return ke(_);if(z(_))return ce(_,c,2)})):z(e)?t?u=()=>ce(e,c,2):u=()=>{if(!(c&&c.isUnmounted))return k&&k(),Bt(e,c,3,[M])}:u=Ht,t&&s){const _=u;u=()=>ke(_())}let k,M=_=>{k=w.onStop=()=>{ce(_,c,4)}},X;if(ln)if(M=Ht,t?n&&Bt(t,c,3,[u(),T?[]:void 0,M]):u(),i==="sync"){const _=Ql();X=_.__watcherHandles||(_.__watcherHandles=[])}else return Ht;let j=T?new Array(e.length).fill(wn):wn;const Y=()=>{if(w.active)if(t){const _=w.run();(s||p||(T?_.some((x,m)=>In(x,j[m])):In(_,j)))&&(k&&k(),Bt(t,c,3,[_,j===wn?void 0:T&&j[0]===wn?[]:j,M]),j=_)}else w.run()};Y.allowRecurse=!!t;let g;i==="sync"?g=Y:i==="post"?g=()=>_t(Y,c&&c.suspense):(Y.pre=!0,c&&(Y.id=c.uid),g=()=>Ws(Y));const w=new Rs(u,g);t?n?Y():j=w.run():i==="post"?_t(w.run.bind(w),c&&c.suspense):w.run();const A=()=>{w.stop(),c&&c.scope&&Os(c.scope.effects,w)};return X&&X.push(A),A}function el(e,t,n){const s=this.proxy,i=dt(e)?e.includes(".")?uo(s,e):()=>s[e]:e.bind(s,s);let o;z(t)?o=t:(o=t.handler,n=t);const r=mt;Be(this);const l=fo(i,o.bind(s),n);return r?Be(r):Ce(),l}function uo(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function ke(e,t){if(!at(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),bt(e))ke(e.value,t);else if(U(e))for(let n=0;n<e.length;n++)ke(e[n],t);else if(Hi(e)||Ke(e))e.forEach(n=>{ke(n,t)});else if(qi(e))for(const n in e)ke(e[n],t);return e}function ge(e,t,n,s){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let c=l.dir[s];c&&(qe(),Bt(c,n,8,[e.el,l,e,t]),$e())}}const Tn=e=>!!e.type.__asyncLoader,ho=e=>e.type.__isKeepAlive;function nl(e,t){po(e,"a",t)}function sl(e,t){po(e,"da",t)}function po(e,t,n=mt){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Jn(t,s,n),n){let i=n.parent;for(;i&&i.parent;)ho(i.parent.vnode)&&il(s,t,n,i),i=i.parent}}function il(e,t,n,s){const i=Jn(t,e,s,!0);mo(()=>{Os(s[t],i)},n)}function Jn(e,t,n=mt,s=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;qe(),Be(n);const l=Bt(t,n,e,r);return Ce(),$e(),l});return s?i.unshift(o):i.push(o),o}}const ee=e=>(t,n=mt)=>(!ln||e==="sp")&&Jn(e,(...s)=>t(...s),n),ol=ee("bm"),rl=ee("m"),ll=ee("bu"),al=ee("u"),cl=ee("bum"),mo=ee("um"),fl=ee("sp"),ul=ee("rtg"),hl=ee("rtc");function dl(e,t=mt){Jn("ec",e,t)}const go="components";function Ye(e,t){return ml(go,e,!0,t)||e}const pl=Symbol.for("v-ndc");function ml(e,t,n=!0,s=!1){const i=Rt||mt;if(i){const o=i.type;if(e===go){const l=Gl(o,!1);if(l&&(l===t||l===Nt(t)||l===zn(Nt(t))))return o}const r=hi(i[e]||o[e],t)||hi(i.appContext[e],t);return!r&&s?o:r}}function hi(e,t){return e&&(e[t]||e[Nt(t)]||e[zn(Nt(t))])}function yo(e,t,n,s){let i;const o=n&&n[s];if(U(e)||dt(e)){i=new Array(e.length);for(let r=0,l=e.length;r<l;r++)i[r]=t(e[r],r,void 0,o&&o[r])}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o&&o[r])}else if(at(e))if(e[Symbol.iterator])i=Array.from(e,(r,l)=>t(r,l,void 0,o&&o[l]));else{const r=Object.keys(e);i=new Array(r.length);for(let l=0,c=r.length;l<c;l++){const u=r[l];i[l]=t(e[u],u,l,o&&o[l])}}else i=[];return n&&(n[s]=i),i}const vs=e=>e?Io(e)?Ys(e)||e.proxy:vs(e.parent):null,Xe=gt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vs(e.parent),$root:e=>vs(e.root),$emit:e=>e.emit,$options:e=>zs(e),$forceUpdate:e=>e.f||(e.f=()=>Ws(e.update)),$nextTick:e=>e.n||(e.n=$r.bind(e.proxy)),$watch:e=>el.bind(e)}),ls=(e,t)=>e!==rt&&!e.__isScriptSetup&&Q(e,t),gl={get({_:e},t){const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const M=r[t];if(M!==void 0)switch(M){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(ls(s,t))return r[t]=1,s[t];if(i!==rt&&Q(i,t))return r[t]=2,i[t];if((u=e.propsOptions[0])&&Q(u,t))return r[t]=3,o[t];if(n!==rt&&Q(n,t))return r[t]=4,n[t];xs&&(r[t]=0)}}const p=Xe[t];let T,k;if(p)return t==="$attrs"&&Pt(e,"get",t),p(e);if((T=l.__cssModules)&&(T=T[t]))return T;if(n!==rt&&Q(n,t))return r[t]=4,n[t];if(k=c.config.globalProperties,Q(k,t))return k[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;return ls(i,t)?(i[t]=n,!0):s!==rt&&Q(s,t)?(s[t]=n,!0):Q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let l;return!!n[r]||e!==rt&&Q(e,r)||ls(t,r)||(l=o[0])&&Q(l,r)||Q(s,r)||Q(Xe,r)||Q(i.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Q(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function di(e){return U(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let xs=!0;function yl(e){const t=zs(e),n=e.proxy,s=e.ctx;xs=!1,t.beforeCreate&&pi(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:l,provide:c,inject:u,created:p,beforeMount:T,mounted:k,beforeUpdate:M,updated:X,activated:j,deactivated:Y,beforeDestroy:g,beforeUnmount:w,destroyed:A,unmounted:_,render:x,renderTracked:m,renderTriggered:h,errorCaptured:B,serverPrefetch:G,expose:V,inheritAttrs:lt,components:it,directives:St,filters:ct}=t;if(u&&vl(u,s,null),r)for(const ot in r){const et=r[ot];z(et)&&(s[ot]=et.bind(n))}if(i){const ot=i.call(n,n);at(ot)&&(e.data=Bs(ot))}if(xs=!0,o)for(const ot in o){const et=o[ot],he=z(et)?et.bind(n,n):z(et.get)?et.get.bind(n,n):Ht,dn=!z(et)&&z(et.set)?et.set.bind(n):Ht,de=Yl({get:he,set:dn});Object.defineProperty(s,ot,{enumerable:!0,configurable:!0,get:()=>de.value,set:jt=>de.value=jt})}if(l)for(const ot in l)vo(l[ot],s,n,ot);if(c){const ot=z(c)?c.call(n):c;Reflect.ownKeys(ot).forEach(et=>{Tl(et,ot[et])})}p&&pi(p,e,"c");function ft(ot,et){U(et)?et.forEach(he=>ot(he.bind(n))):et&&ot(et.bind(n))}if(ft(ol,T),ft(rl,k),ft(ll,M),ft(al,X),ft(nl,j),ft(sl,Y),ft(dl,B),ft(hl,m),ft(ul,h),ft(cl,w),ft(mo,_),ft(fl,G),U(V))if(V.length){const ot=e.exposed||(e.exposed={});V.forEach(et=>{Object.defineProperty(ot,et,{get:()=>n[et],set:he=>n[et]=he})})}else e.exposed||(e.exposed={});x&&e.render===Ht&&(e.render=x),lt!=null&&(e.inheritAttrs=lt),it&&(e.components=it),St&&(e.directives=St)}function vl(e,t,n=Ht){U(e)&&(e=bs(e));for(const s in e){const i=e[s];let o;at(i)?"default"in i?o=Pn(i.from||s,i.default,!0):o=Pn(i.from||s):o=Pn(i),bt(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[s]=o}}function pi(e,t,n){Bt(U(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function vo(e,t,n,s){const i=s.includes(".")?uo(n,s):()=>n[s];if(dt(e)){const o=t[e];z(o)&&rs(i,o)}else if(z(e))rs(i,e.bind(n));else if(at(e))if(U(e))e.forEach(o=>vo(o,t,n,s));else{const o=z(e.handler)?e.handler.bind(n):t[e.handler];z(o)&&rs(i,o,e)}}function zs(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let c;return l?c=l:!i.length&&!n&&!s?c=t:(c={},i.length&&i.forEach(u=>On(c,u,r,!0)),On(c,t,r)),at(t)&&o.set(t,c),c}function On(e,t,n,s=!1){const{mixins:i,extends:o}=t;o&&On(e,o,n,!0),i&&i.forEach(r=>On(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const l=xl[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const xl={data:mi,props:gi,emits:gi,methods:Je,computed:Je,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:Je,directives:Je,watch:wl,provide:mi,inject:bl};function mi(e,t){return t?e?function(){return gt(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function bl(e,t){return Je(bs(e),bs(t))}function bs(e){if(U(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vt(e,t){return e?[...new Set([].concat(e,t))]:t}function Je(e,t){return e?gt(Object.create(null),e,t):t}function gi(e,t){return e?U(e)&&U(t)?[...new Set([...e,...t])]:gt(Object.create(null),di(e),di(t??{})):t}function wl(e,t){if(!e)return t;if(!t)return e;const n=gt(Object.create(null),e);for(const s in t)n[s]=vt(e[s],t[s]);return n}function xo(){return{app:null,config:{isNativeTag:Vo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _l=0;function Cl(e,t){return function(s,i=null){z(s)||(s=gt({},s)),i!=null&&!at(i)&&(i=null);const o=xo(),r=new Set;let l=!1;const c=o.app={_uid:_l++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:Xl,get config(){return o.config},set config(u){},use(u,...p){return r.has(u)||(u&&z(u.install)?(r.add(u),u.install(c,...p)):z(u)&&(r.add(u),u(c,...p))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,p){return p?(o.components[u]=p,c):o.components[u]},directive(u,p){return p?(o.directives[u]=p,c):o.directives[u]},mount(u,p,T){if(!l){const k=Gt(s,i);return k.appContext=o,p&&t?t(k,u):e(k,u,T),l=!0,c._container=u,u.__vue_app__=c,Ys(k.component)||k.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,p){return o.provides[u]=p,c},runWithContext(u){Mn=c;try{return u()}finally{Mn=null}}};return c}}let Mn=null;function Tl(e,t){if(mt){let n=mt.provides;const s=mt.parent&&mt.parent.provides;s===n&&(n=mt.provides=Object.create(s)),n[e]=t}}function Pn(e,t,n=!1){const s=mt||Rt;if(s||Mn){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Mn._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&z(t)?t.call(s&&s.proxy):t}}function Pl(e,t,n,s=!1){const i={},o={};Sn(o,Xn,1),e.propsDefaults=Object.create(null),bo(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=s?i:Kr(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function El(e,t,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,l=Z(i),[c]=e.propsOptions;let u=!1;if((s||r>0)&&!(r&16)){if(r&8){const p=e.vnode.dynamicProps;for(let T=0;T<p.length;T++){let k=p[T];if(Yn(e.emitsOptions,k))continue;const M=t[k];if(c)if(Q(o,k))M!==o[k]&&(o[k]=M,u=!0);else{const X=Nt(k);i[X]=ws(c,l,X,M,e,!1)}else M!==o[k]&&(o[k]=M,u=!0)}}}else{bo(e,t,i,o)&&(u=!0);let p;for(const T in l)(!t||!Q(t,T)&&((p=je(T))===T||!Q(t,p)))&&(c?n&&(n[T]!==void 0||n[p]!==void 0)&&(i[T]=ws(c,l,T,void 0,e,!0)):delete i[T]);if(o!==l)for(const T in o)(!t||!Q(t,T))&&(delete o[T],u=!0)}u&&te(e,"set","$attrs")}function bo(e,t,n,s){const[i,o]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(Cn(c))continue;const u=t[c];let p;i&&Q(i,p=Nt(c))?!o||!o.includes(p)?n[p]=u:(l||(l={}))[p]=u:Yn(e.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,r=!0)}if(o){const c=Z(n),u=l||rt;for(let p=0;p<o.length;p++){const T=o[p];n[T]=ws(i,c,T,u[T],e,!Q(u,T))}}return r}function ws(e,t,n,s,i,o){const r=e[n];if(r!=null){const l=Q(r,"default");if(l&&s===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&z(c)){const{propsDefaults:u}=i;n in u?s=u[n]:(Be(i),s=u[n]=c.call(null,t),Ce())}else s=c}r[0]&&(o&&!l?s=!1:r[1]&&(s===""||s===je(n))&&(s=!0))}return s}function wo(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const o=e.props,r={},l=[];let c=!1;if(!z(e)){const p=T=>{c=!0;const[k,M]=wo(T,t,!0);gt(r,k),M&&l.push(...M)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!o&&!c)return at(e)&&s.set(e,Fe),Fe;if(U(o))for(let p=0;p<o.length;p++){const T=Nt(o[p]);yi(T)&&(r[T]=rt)}else if(o)for(const p in o){const T=Nt(p);if(yi(T)){const k=o[p],M=r[T]=U(k)||z(k)?{type:k}:gt({},k);if(M){const X=bi(Boolean,M.type),j=bi(String,M.type);M[0]=X>-1,M[1]=j<0||X<j,(X>-1||Q(M,"default"))&&l.push(T)}}}const u=[r,l];return at(e)&&s.set(e,u),u}function yi(e){return e[0]!=="$"}function vi(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function xi(e,t){return vi(e)===vi(t)}function bi(e,t){return U(t)?t.findIndex(n=>xi(n,e)):z(t)&&xi(t,e)?0:-1}const _o=e=>e[0]==="_"||e==="$stable",Vs=e=>U(e)?e.map(Ut):[Ut(e)],Al=(e,t,n)=>{if(t._n)return t;const s=Nr((...i)=>Vs(t(...i)),n);return s._c=!1,s},Co=(e,t,n)=>{const s=e._ctx;for(const i in e){if(_o(i))continue;const o=e[i];if(z(o))t[i]=Al(i,o,s);else if(o!=null){const r=Vs(o);t[i]=()=>r}}},To=(e,t)=>{const n=Vs(t);e.slots.default=()=>n},Il=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Z(t),Sn(t,"_",n)):Co(t,e.slots={})}else e.slots={},t&&To(e,t);Sn(e.slots,Xn,1)},Sl=(e,t,n)=>{const{vnode:s,slots:i}=e;let o=!0,r=rt;if(s.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(gt(i,t),!n&&l===1&&delete i._):(o=!t.$stable,Co(t,i)),r=t}else t&&(To(e,t),r={default:1});if(o)for(const l in i)!_o(l)&&!(l in r)&&delete i[l]};function _s(e,t,n,s,i=!1){if(U(e)){e.forEach((k,M)=>_s(k,t&&(U(t)?t[M]:t),n,s,i));return}if(Tn(s)&&!i)return;const o=s.shapeFlag&4?Ys(s.component)||s.component.proxy:s.el,r=i?null:o,{i:l,r:c}=e,u=t&&t.r,p=l.refs===rt?l.refs={}:l.refs,T=l.setupState;if(u!=null&&u!==c&&(dt(u)?(p[u]=null,Q(T,u)&&(T[u]=null)):bt(u)&&(u.value=null)),z(c))ce(c,l,12,[r,p]);else{const k=dt(c),M=bt(c);if(k||M){const X=()=>{if(e.f){const j=k?Q(T,c)?T[c]:p[c]:c.value;i?U(j)&&Os(j,o):U(j)?j.includes(o)||j.push(o):k?(p[c]=[o],Q(T,c)&&(T[c]=p[c])):(c.value=[o],e.k&&(p[e.k]=c.value))}else k?(p[c]=r,Q(T,c)&&(T[c]=r)):M&&(c.value=r,e.k&&(p[e.k]=r))};r?(X.id=-1,_t(X,n)):X()}}}const _t=tl;function kl(e){return Ol(e)}function Ol(e,t){const n=us();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:l,createComment:c,setText:u,setElementText:p,parentNode:T,nextSibling:k,setScopeId:M=Ht,insertStaticContent:X}=e,j=(a,f,d,v=null,y=null,E=null,O=!1,P=null,I=!!f.dynamicChildren)=>{if(a===f)return;a&&!ze(a,f)&&(v=pn(a),jt(a,y,E,!0),a=null),f.patchFlag===-2&&(I=!1,f.dynamicChildren=null);const{type:b,ref:D,shapeFlag:R}=f;switch(b){case Qn:Y(a,f,d,v);break;case Te:g(a,f,d,v);break;case as:a==null&&w(f,d,v,O);break;case It:it(a,f,d,v,y,E,O,P,I);break;default:R&1?x(a,f,d,v,y,E,O,P,I):R&6?St(a,f,d,v,y,E,O,P,I):(R&64||R&128)&&b.process(a,f,d,v,y,E,O,P,I,Ee)}D!=null&&y&&_s(D,a&&a.ref,E,f||a,!f)},Y=(a,f,d,v)=>{if(a==null)s(f.el=l(f.children),d,v);else{const y=f.el=a.el;f.children!==a.children&&u(y,f.children)}},g=(a,f,d,v)=>{a==null?s(f.el=c(f.children||""),d,v):f.el=a.el},w=(a,f,d,v)=>{[a.el,a.anchor]=X(a.children,f,d,v,a.el,a.anchor)},A=({el:a,anchor:f},d,v)=>{let y;for(;a&&a!==f;)y=k(a),s(a,d,v),a=y;s(f,d,v)},_=({el:a,anchor:f})=>{let d;for(;a&&a!==f;)d=k(a),i(a),a=d;i(f)},x=(a,f,d,v,y,E,O,P,I)=>{O=O||f.type==="svg",a==null?m(f,d,v,y,E,O,P,I):G(a,f,y,E,O,P,I)},m=(a,f,d,v,y,E,O,P)=>{let I,b;const{type:D,props:R,shapeFlag:H,transition:$,dirs:N}=a;if(I=a.el=r(a.type,E,R&&R.is,R),H&8?p(I,a.children):H&16&&B(a.children,I,null,v,y,E&&D!=="foreignObject",O,P),N&&ge(a,null,v,"created"),h(I,a,a.scopeId,O,v),R){for(const tt in R)tt!=="value"&&!Cn(tt)&&o(I,tt,null,R[tt],E,a.children,v,y,Yt);"value"in R&&o(I,"value",null,R.value),(b=R.onVnodeBeforeMount)&&$t(b,v,a)}N&&ge(a,null,v,"beforeMount");const nt=(!y||y&&!y.pendingBranch)&&$&&!$.persisted;nt&&$.beforeEnter(I),s(I,f,d),((b=R&&R.onVnodeMounted)||nt||N)&&_t(()=>{b&&$t(b,v,a),nt&&$.enter(I),N&&ge(a,null,v,"mounted")},y)},h=(a,f,d,v,y)=>{if(d&&M(a,d),v)for(let E=0;E<v.length;E++)M(a,v[E]);if(y){let E=y.subTree;if(f===E){const O=y.vnode;h(a,O,O.scopeId,O.slotScopeIds,y.parent)}}},B=(a,f,d,v,y,E,O,P,I=0)=>{for(let b=I;b<a.length;b++){const D=a[b]=P?oe(a[b]):Ut(a[b]);j(null,D,f,d,v,y,E,O,P)}},G=(a,f,d,v,y,E,O)=>{const P=f.el=a.el;let{patchFlag:I,dynamicChildren:b,dirs:D}=f;I|=a.patchFlag&16;const R=a.props||rt,H=f.props||rt;let $;d&&ye(d,!1),($=H.onVnodeBeforeUpdate)&&$t($,d,f,a),D&&ge(f,a,d,"beforeUpdate"),d&&ye(d,!0);const N=y&&f.type!=="foreignObject";if(b?V(a.dynamicChildren,b,P,d,v,N,E):O||et(a,f,P,null,d,v,N,E,!1),I>0){if(I&16)lt(P,f,R,H,d,v,y);else if(I&2&&R.class!==H.class&&o(P,"class",null,H.class,y),I&4&&o(P,"style",R.style,H.style,y),I&8){const nt=f.dynamicProps;for(let tt=0;tt<nt.length;tt++){const ut=nt[tt],Ot=R[ut],Ae=H[ut];(Ae!==Ot||ut==="value")&&o(P,ut,Ot,Ae,y,a.children,d,v,Yt)}}I&1&&a.children!==f.children&&p(P,f.children)}else!O&&b==null&&lt(P,f,R,H,d,v,y);(($=H.onVnodeUpdated)||D)&&_t(()=>{$&&$t($,d,f,a),D&&ge(f,a,d,"updated")},v)},V=(a,f,d,v,y,E,O)=>{for(let P=0;P<f.length;P++){const I=a[P],b=f[P],D=I.el&&(I.type===It||!ze(I,b)||I.shapeFlag&70)?T(I.el):d;j(I,b,D,null,v,y,E,O,!0)}},lt=(a,f,d,v,y,E,O)=>{if(d!==v){if(d!==rt)for(const P in d)!Cn(P)&&!(P in v)&&o(a,P,d[P],null,O,f.children,y,E,Yt);for(const P in v){if(Cn(P))continue;const I=v[P],b=d[P];I!==b&&P!=="value"&&o(a,P,b,I,O,f.children,y,E,Yt)}"value"in v&&o(a,"value",d.value,v.value)}},it=(a,f,d,v,y,E,O,P,I)=>{const b=f.el=a?a.el:l(""),D=f.anchor=a?a.anchor:l("");let{patchFlag:R,dynamicChildren:H,slotScopeIds:$}=f;$&&(P=P?P.concat($):$),a==null?(s(b,d,v),s(D,d,v),B(f.children,d,D,y,E,O,P,I)):R>0&&R&64&&H&&a.dynamicChildren?(V(a.dynamicChildren,H,d,y,E,O,P),(f.key!=null||y&&f===y.subTree)&&Po(a,f,!0)):et(a,f,d,D,y,E,O,P,I)},St=(a,f,d,v,y,E,O,P,I)=>{f.slotScopeIds=P,a==null?f.shapeFlag&512?y.ctx.activate(f,d,v,O,I):ct(f,d,v,y,E,O,I):Pe(a,f,I)},ct=(a,f,d,v,y,E,O)=>{const P=a.component=$l(a,v,y);if(ho(a)&&(P.ctx.renderer=Ee),Ul(P),P.asyncDep){if(y&&y.registerDep(P,ft),!a.el){const I=P.subTree=Gt(Te);g(null,I,f,d)}return}ft(P,a,f,d,y,E,O)},Pe=(a,f,d)=>{const v=f.component=a.component;if(Qr(a,f,d))if(v.asyncDep&&!v.asyncResolved){ot(v,f,d);return}else v.next=f,Wr(v.update),v.update();else f.el=a.el,v.vnode=f},ft=(a,f,d,v,y,E,O)=>{const P=()=>{if(a.isMounted){let{next:D,bu:R,u:H,parent:$,vnode:N}=a,nt=D,tt;ye(a,!1),D?(D.el=N.el,ot(a,D,O)):D=N,R&&is(R),(tt=D.props&&D.props.onVnodeBeforeUpdate)&&$t(tt,$,D,N),ye(a,!0);const ut=os(a),Ot=a.subTree;a.subTree=ut,j(Ot,ut,T(Ot.el),pn(Ot),a,y,E),D.el=ut.el,nt===null&&Xr(a,ut.el),H&&_t(H,y),(tt=D.props&&D.props.onVnodeUpdated)&&_t(()=>$t(tt,$,D,N),y)}else{let D;const{el:R,props:H}=f,{bm:$,m:N,parent:nt}=a,tt=Tn(f);if(ye(a,!1),$&&is($),!tt&&(D=H&&H.onVnodeBeforeMount)&&$t(D,nt,f),ye(a,!0),R&&es){const ut=()=>{a.subTree=os(a),es(R,a.subTree,a,y,null)};tt?f.type.__asyncLoader().then(()=>!a.isUnmounted&&ut()):ut()}else{const ut=a.subTree=os(a);j(null,ut,d,v,a,y,E),f.el=ut.el}if(N&&_t(N,y),!tt&&(D=H&&H.onVnodeMounted)){const ut=f;_t(()=>$t(D,nt,ut),y)}(f.shapeFlag&256||nt&&Tn(nt.vnode)&&nt.vnode.shapeFlag&256)&&a.a&&_t(a.a,y),a.isMounted=!0,f=d=v=null}},I=a.effect=new Rs(P,()=>Ws(b),a.scope),b=a.update=()=>I.run();b.id=a.uid,ye(a,!0),b()},ot=(a,f,d)=>{f.component=a;const v=a.vnode.props;a.vnode=f,a.next=null,El(a,f.props,v,d),Sl(a,f.children,d),qe(),fi(),$e()},et=(a,f,d,v,y,E,O,P,I=!1)=>{const b=a&&a.children,D=a?a.shapeFlag:0,R=f.children,{patchFlag:H,shapeFlag:$}=f;if(H>0){if(H&128){dn(b,R,d,v,y,E,O,P,I);return}else if(H&256){he(b,R,d,v,y,E,O,P,I);return}}$&8?(D&16&&Yt(b,y,E),R!==b&&p(d,R)):D&16?$&16?dn(b,R,d,v,y,E,O,P,I):Yt(b,y,E,!0):(D&8&&p(d,""),$&16&&B(R,d,v,y,E,O,P,I))},he=(a,f,d,v,y,E,O,P,I)=>{a=a||Fe,f=f||Fe;const b=a.length,D=f.length,R=Math.min(b,D);let H;for(H=0;H<R;H++){const $=f[H]=I?oe(f[H]):Ut(f[H]);j(a[H],$,d,null,y,E,O,P,I)}b>D?Yt(a,y,E,!0,!1,R):B(f,d,v,y,E,O,P,I,R)},dn=(a,f,d,v,y,E,O,P,I)=>{let b=0;const D=f.length;let R=a.length-1,H=D-1;for(;b<=R&&b<=H;){const $=a[b],N=f[b]=I?oe(f[b]):Ut(f[b]);if(ze($,N))j($,N,d,null,y,E,O,P,I);else break;b++}for(;b<=R&&b<=H;){const $=a[R],N=f[H]=I?oe(f[H]):Ut(f[H]);if(ze($,N))j($,N,d,null,y,E,O,P,I);else break;R--,H--}if(b>R){if(b<=H){const $=H+1,N=$<D?f[$].el:v;for(;b<=H;)j(null,f[b]=I?oe(f[b]):Ut(f[b]),d,N,y,E,O,P,I),b++}}else if(b>H)for(;b<=R;)jt(a[b],y,E,!0),b++;else{const $=b,N=b,nt=new Map;for(b=N;b<=H;b++){const Et=f[b]=I?oe(f[b]):Ut(f[b]);Et.key!=null&&nt.set(Et.key,b)}let tt,ut=0;const Ot=H-N+1;let Ae=!1,Xs=0;const We=new Array(Ot);for(b=0;b<Ot;b++)We[b]=0;for(b=$;b<=R;b++){const Et=a[b];if(ut>=Ot){jt(Et,y,E,!0);continue}let qt;if(Et.key!=null)qt=nt.get(Et.key);else for(tt=N;tt<=H;tt++)if(We[tt-N]===0&&ze(Et,f[tt])){qt=tt;break}qt===void 0?jt(Et,y,E,!0):(We[qt-N]=b+1,qt>=Xs?Xs=qt:Ae=!0,j(Et,f[qt],d,null,y,E,O,P,I),ut++)}const Zs=Ae?Ml(We):Fe;for(tt=Zs.length-1,b=Ot-1;b>=0;b--){const Et=N+b,qt=f[Et],ti=Et+1<D?f[Et+1].el:v;We[b]===0?j(null,qt,d,ti,y,E,O,P,I):Ae&&(tt<0||b!==Zs[tt]?de(qt,d,ti,2):tt--)}}},de=(a,f,d,v,y=null)=>{const{el:E,type:O,transition:P,children:I,shapeFlag:b}=a;if(b&6){de(a.component.subTree,f,d,v);return}if(b&128){a.suspense.move(f,d,v);return}if(b&64){O.move(a,f,d,Ee);return}if(O===It){s(E,f,d);for(let R=0;R<I.length;R++)de(I[R],f,d,v);s(a.anchor,f,d);return}if(O===as){A(a,f,d);return}if(v!==2&&b&1&&P)if(v===0)P.beforeEnter(E),s(E,f,d),_t(()=>P.enter(E),y);else{const{leave:R,delayLeave:H,afterLeave:$}=P,N=()=>s(E,f,d),nt=()=>{R(E,()=>{N(),$&&$()})};H?H(E,N,nt):nt()}else s(E,f,d)},jt=(a,f,d,v=!1,y=!1)=>{const{type:E,props:O,ref:P,children:I,dynamicChildren:b,shapeFlag:D,patchFlag:R,dirs:H}=a;if(P!=null&&_s(P,null,d,a,!0),D&256){f.ctx.deactivate(a);return}const $=D&1&&H,N=!Tn(a);let nt;if(N&&(nt=O&&O.onVnodeBeforeUnmount)&&$t(nt,f,a),D&6)Uo(a.component,d,v);else{if(D&128){a.suspense.unmount(d,v);return}$&&ge(a,null,f,"beforeUnmount"),D&64?a.type.remove(a,f,d,y,Ee,v):b&&(E!==It||R>0&&R&64)?Yt(b,f,d,!1,!0):(E===It&&R&384||!y&&D&16)&&Yt(I,f,d),v&&Js(a)}(N&&(nt=O&&O.onVnodeUnmounted)||$)&&_t(()=>{nt&&$t(nt,f,a),$&&ge(a,null,f,"unmounted")},d)},Js=a=>{const{type:f,el:d,anchor:v,transition:y}=a;if(f===It){$o(d,v);return}if(f===as){_(a);return}const E=()=>{i(d),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(a.shapeFlag&1&&y&&!y.persisted){const{leave:O,delayLeave:P}=y,I=()=>O(d,E);P?P(a.el,E,I):I()}else E()},$o=(a,f)=>{let d;for(;a!==f;)d=k(a),i(a),a=d;i(f)},Uo=(a,f,d)=>{const{bum:v,scope:y,update:E,subTree:O,um:P}=a;v&&is(v),y.stop(),E&&(E.active=!1,jt(O,a,f,d)),P&&_t(P,f),_t(()=>{a.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&a.asyncDep&&!a.asyncResolved&&a.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Yt=(a,f,d,v=!1,y=!1,E=0)=>{for(let O=E;O<a.length;O++)jt(a[O],f,d,v,y)},pn=a=>a.shapeFlag&6?pn(a.component.subTree):a.shapeFlag&128?a.suspense.next():k(a.anchor||a.el),Qs=(a,f,d)=>{a==null?f._vnode&&jt(f._vnode,null,null,!0):j(f._vnode||null,a,f,null,null,null,d),fi(),ro(),f._vnode=a},Ee={p:j,um:jt,m:de,r:Js,mt:ct,mc:B,pc:et,pbc:V,n:pn,o:e};let ts,es;return t&&([ts,es]=t(Ee)),{render:Qs,hydrate:ts,createApp:Cl(Qs,ts)}}function ye({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Po(e,t,n=!1){const s=e.children,i=t.children;if(U(s)&&U(i))for(let o=0;o<s.length;o++){const r=s[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=oe(i[o]),l.el=r.el),n||Po(r,l)),l.type===Qn&&(l.el=r.el)}}function Ml(e){const t=e.slice(),n=[0];let s,i,o,r,l;const c=e.length;for(s=0;s<c;s++){const u=e[s];if(u!==0){if(i=n[n.length-1],e[i]<u){t[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)l=o+r>>1,e[n[l]]<u?o=l+1:r=l;u<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=t[r];return n}const Fl=e=>e.__isTeleport,It=Symbol.for("v-fgt"),Qn=Symbol.for("v-txt"),Te=Symbol.for("v-cmt"),as=Symbol.for("v-stc"),Ze=[];let Lt=null;function xt(e=!1){Ze.push(Lt=e?null:[])}function Kl(){Ze.pop(),Lt=Ze[Ze.length-1]||null}let rn=1;function wi(e){rn+=e}function Eo(e){return e.dynamicChildren=rn>0?Lt||Fe:null,Kl(),rn>0&&Lt&&Lt.push(e),e}function Vt(e,t,n,s,i,o){return Eo(ht(e,t,n,s,i,o,!0))}function Qe(e,t,n,s,i){return Eo(Gt(e,t,n,s,i,!0))}function Rl(e){return e?e.__v_isVNode===!0:!1}function ze(e,t){return e.type===t.type&&e.key===t.key}const Xn="__vInternal",Ao=({key:e})=>e??null,En=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?dt(e)||bt(e)||z(e)?{i:Rt,r:e,k:t,f:!!n}:e:null);function ht(e,t=null,n=null,s=0,i=null,o=e===It?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ao(t),ref:t&&En(t),scopeId:co,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Rt};return l?(Gs(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=dt(n)?8:16),rn>0&&!r&&Lt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Lt.push(c),c}const Gt=Ll;function Ll(e,t=null,n=null,s=0,i=null,o=!1){if((!e||e===pl)&&(e=Te),Rl(e)){const l=He(e,t,!0);return n&&Gs(l,n),rn>0&&!o&&Lt&&(l.shapeFlag&6?Lt[Lt.indexOf(e)]=l:Lt.push(l)),l.patchFlag|=-2,l}if(Nl(e)&&(e=e.__vccOpts),t){t=Dl(t);let{class:l,style:c}=t;l&&!dt(l)&&(t.class=Vn(l)),at(c)&&(eo(c)&&!U(c)&&(c=gt({},c)),t.style=De(c))}const r=dt(e)?1:Zr(e)?128:Fl(e)?64:at(e)?4:z(e)?2:0;return ht(e,t,n,s,i,r,o,!0)}function Dl(e){return e?eo(e)||Xn in e?gt({},e):e:null}function He(e,t,n=!1){const{props:s,ref:i,patchFlag:o,children:r}=e,l=t?Bl(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ao(l),ref:t&&t.ref?n&&i?U(i)?i.concat(En(t)):[i,En(t)]:En(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==It?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&He(e.ssContent),ssFallback:e.ssFallback&&He(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Hl(e=" ",t=0){return Gt(Qn,null,e,t)}function Oe(e="",t=!1){return t?(xt(),Qe(Te,null,e)):Gt(Te,null,e)}function Ut(e){return e==null||typeof e=="boolean"?Gt(Te):U(e)?Gt(It,null,e.slice()):typeof e=="object"?oe(e):Gt(Qn,null,String(e))}function oe(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:He(e)}function Gs(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(U(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Gs(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Xn in t)?t._ctx=Rt:i===3&&Rt&&(Rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Rt},n=32):(t=String(t),s&64?(n=16,t=[Hl(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bl(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Vn([t.class,s.class]));else if(i==="style")t.style=De([t.style,s.style]);else if($n(i)){const o=t[i],r=s[i];r&&o!==r&&!(U(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=s[i])}return t}function $t(e,t,n,s=null){Bt(e,t,7,[n,s])}const jl=xo();let ql=0;function $l(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||jl,o={uid:ql++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new or(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wo(s,i),emitsOptions:ao(s,i),emit:null,emitted:null,propsDefaults:rt,inheritAttrs:s.inheritAttrs,ctx:rt,data:rt,props:rt,attrs:rt,slots:rt,refs:rt,setupState:rt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Gr.bind(null,o),e.ce&&e.ce(o),o}let mt=null,Ns,Ie,_i="__VUE_INSTANCE_SETTERS__";(Ie=us()[_i])||(Ie=us()[_i]=[]),Ie.push(e=>mt=e),Ns=e=>{Ie.length>1?Ie.forEach(t=>t(e)):Ie[0](e)};const Be=e=>{Ns(e),e.scope.on()},Ce=()=>{mt&&mt.scope.off(),Ns(null)};function Io(e){return e.vnode.shapeFlag&4}let ln=!1;function Ul(e,t=!1){ln=t;const{props:n,children:s}=e.vnode,i=Io(e);Pl(e,n,i,t),Il(e,s);const o=i?Wl(e,t):void 0;return ln=!1,o}function Wl(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=no(new Proxy(e.ctx,gl));const{setup:s}=n;if(s){const i=e.setupContext=s.length>1?Vl(e):null;Be(e),qe();const o=ce(s,e,0,[e.props,i]);if($e(),Ce(),Bi(o)){if(o.then(Ce,Ce),t)return o.then(r=>{Ci(e,r,t)}).catch(r=>{Nn(r,e,0)});e.asyncDep=o}else Ci(e,o,t)}else So(e,t)}function Ci(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:at(t)&&(e.setupState=so(t)),So(e,n)}let Ti;function So(e,t,n){const s=e.type;if(!e.render){if(!t&&Ti&&!s.render){const i=s.template||zs(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,u=gt(gt({isCustomElement:o,delimiters:l},r),c);s.render=Ti(i,u)}}e.render=s.render||Ht}Be(e),qe(),yl(e),$e(),Ce()}function zl(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Pt(e,"get","$attrs"),t[n]}}))}function Vl(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return zl(e)},slots:e.slots,emit:e.emit,expose:t}}function Ys(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(so(no(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xe)return Xe[n](e)},has(t,n){return n in t||n in Xe}}))}function Gl(e,t=!0){return z(e)?e.displayName||e.name:e.name||t&&e.__name}function Nl(e){return z(e)&&"__vccOpts"in e}const Yl=(e,t)=>jr(e,t,ln),Jl=Symbol.for("v-scx"),Ql=()=>Pn(Jl),Xl="3.3.4",Zl="http://www.w3.org/2000/svg",xe=typeof document<"u"?document:null,Pi=xe&&xe.createElement("template"),ta={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?xe.createElementNS(Zl,e):xe.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>xe.createTextNode(e),createComment:e=>xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,o){const r=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Pi.innerHTML=s?`<svg>${e}</svg>`:e;const l=Pi.content;if(s){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ea(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function na(e,t,n){const s=e.style,i=dt(n);if(n&&!i){if(t&&!dt(t))for(const o in t)n[o]==null&&Cs(s,o,"");for(const o in n)Cs(s,o,n[o])}else{const o=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=o)}}const Ei=/\s*!important$/;function Cs(e,t,n){if(U(n))n.forEach(s=>Cs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=sa(e,t);Ei.test(n)?e.setProperty(je(s),n.replace(Ei,""),"important"):e[s]=n}}const Ai=["Webkit","Moz","ms"],cs={};function sa(e,t){const n=cs[t];if(n)return n;let s=Nt(t);if(s!=="filter"&&s in e)return cs[t]=s;s=zn(s);for(let i=0;i<Ai.length;i++){const o=Ai[i]+s;if(o in e)return cs[t]=o}return t}const Ii="http://www.w3.org/1999/xlink";function ia(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ii,t.slice(6,t.length)):e.setAttributeNS(Ii,t,n);else{const o=ir(t);n==null||o&&!$i(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function oa(e,t,n,s,i,o,r){if(t==="innerHTML"||t==="textContent"){s&&r(s,i,o),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const u=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";u!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=$i(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function ra(e,t,n,s){e.addEventListener(t,n,s)}function la(e,t,n,s){e.removeEventListener(t,n,s)}function aa(e,t,n,s,i=null){const o=e._vei||(e._vei={}),r=o[t];if(s&&r)r.value=s;else{const[l,c]=ca(t);if(s){const u=o[t]=ha(s,i);ra(e,l,u,c)}else r&&(la(e,l,r,c),o[t]=void 0)}}const Si=/(?:Once|Passive|Capture)$/;function ca(e){let t;if(Si.test(e)){t={};let s;for(;s=e.match(Si);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):je(e.slice(2)),t]}let fs=0;const fa=Promise.resolve(),ua=()=>fs||(fa.then(()=>fs=0),fs=Date.now());function ha(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Bt(da(s,n.value),t,5,[s])};return n.value=e,n.attached=ua(),n}function da(e,t){if(U(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const ki=/^on[a-z]/,pa=(e,t,n,s,i=!1,o,r,l,c)=>{t==="class"?ea(e,s,i):t==="style"?na(e,n,s):$n(t)?ks(t)||aa(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ma(e,t,s,i))?oa(e,t,s,o,r,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ia(e,t,s,i))};function ma(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&ki.test(t)&&z(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ki.test(t)&&dt(n)?!1:t in e}const ga=gt({patchProp:pa},ta);let Oi;function ya(){return Oi||(Oi=kl(ga))}const va=(...e)=>{const t=ya().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=xa(s);if(!i)return;const o=t._component;!z(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function xa(e){return dt(e)?document.querySelector(e):e}var Ts=null,q=null,An=null,ie=null;const Zn=()=>({setVitality:e=>ie=e,setInventory:e=>An=e,setHero:e=>q=e,setApp:e=>Ts=e}),ba=function(e){return Math.floor(Math.random()*(e+1))},Mt=function(e){return Math.floor(Math.random()*e)+1===e},ko=function(e){return window.btoa(String.fromCharCode(...window.crypto.getRandomValues(new Uint8Array(e*2)))).replace(/[+/]/g,"").substring(0,e)},_n=function(){return"#000000".replace(/0/g,function(){return(~~(Math.random()*16)).toString(16)})},Mi=function(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},wa=function(e,t){Object.keys(t).forEach(i=>{t[Mi(i).toString()]=Mi(t[i]),delete t[i]});const n=document.createElement("canvas").getContext("2d");n.canvas.width=e.width,n.canvas.height=e.height,n.drawImage(e,0,0);const s=n.getImageData(0,0,n.canvas.width,n.canvas.height);for(let i=0;i<s.data.length;i+=4){const o=[s.data[i],s.data[i+1],s.data[i+2]].toString();if(o in t){const r=t[o];s.data[i]=r[0],s.data[i+1]=r[1],s.data[i+2]=r[2],s.data[i+3]=255}}return n.putImageData(s,0,0),n.canvas},Fi=async function(e){return new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=e})},_a=async function(e,t,n){return new Promise(s=>{if(!t)return e;const i=["#ff0000","#ff00ff","#0000ff","#ffff00","#00ffff","#ff00ff"],o={};n.forEach((u,p)=>{o[i[p]]=u});const r=wa(t,o),l=document.createElement("canvas").getContext("2d");l.canvas.width=e.width,l.canvas.height=e.height,l.drawImage(e,0,0),l.globalCompositeOperation="overlay",l.drawImage(r,0,0);const c=new Image;c.onload=()=>s(c),c.src=l.canvas.toDataURL("image/png")})},st=function(e,t={}){window.dispatchEvent(new CustomEvent(e,{detail:t}))},W=32,Ve=33,Ge=19,Ca="data/sprites.json",Ta="data/items.json",Pa="data/effects.json",Ki=2,Ri=1.5,Li=800,be=class be{constructor(t,n){L(this,"id",null);L(this,"image",null);L(this,"originImage",null);L(this,"mask",null);L(this,"speed",null);L(this,"states",null);L(this,"canvas",null);L(this,"ctx",null);L(this,"interval",null);L(this,"currentState",null);L(this,"currentFrame",null);L(this,"lastFrame",null);t&&(be.instances[t]=this),this.id=t,this.image=n.image,this.originImage=n.image,this.mask=n.mask||null,this.speed=n.speed||null,this.states=n.states||{},this.states.origin=[{x:0,y:0,w:this.image.width,h:this.image.height}],this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.currentState=this.getDefaultState(),this.currentFrame=1}static async load(){try{const n=await(await fetch(Ca)).json();await Promise.all(Object.entries(n).map(async([s,i])=>{const r={image:await Fi(i.base),speed:i.speed||null,states:i.states||null};i.mask&&(r.mask=await Fi(i.mask)),new be(s,r)}))}catch(t){console.error("Error loading sprites:",t)}}static get(t){return be.instances[t]??null}clone(){return new be(null,{image:this.originImage,mask:this.mask,speed:this.speed,states:this.states})}async play(t=null){return new Promise(n=>{t=t||this.getDefaultState(),this.stop(),this.rewind(),this.currentState=t;const s=this.states[t].length;s>1&&this.speed&&(this.interval=setInterval(()=>{++this.currentFrame>s&&(this.stop(),n())},this.speed))})}stop(){clearInterval(this.interval),this.interval=null}rewind(){this.currentFrame=1}loop(t=null){if(t=t||this.getDefaultState(),this.interval&&this.currentState===t)return;this.stop(),this.rewind(),this.currentState=t;const n=this.states[t].length;n>1&&this.speed&&(this.interval=setInterval(()=>{++this.currentFrame>n&&(this.currentFrame=1)},this.speed))}async dye(t){this.image=await _a(this.originImage,this.mask,t),this.lastFrame=null}getDefaultState(){return Object.keys(this.states)[0]}getFrame(){const t=this.states[this.currentState][this.currentFrame-1];return this.lastFrame===t?this.canvas:(this.lastFrame=t,this.canvas.width=t.w,this.canvas.height=t.h,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.image,t.x,t.y,t.w,t.h,0,0,t.w,t.h),this.canvas)}};L(be,"instances",{});let ue=be;var fn;const Me=class Me{constructor(t,n){L(this,"id",null);L(this,"name",null);L(this,"type",null);L(this,"altitude",null);L(this,"sprite",null);L(this,"isUsable",null);L(this,"isMovable",null);L(this,"isPickupable",null);L(this,"isBlockingCreatures",null);L(this,"isBlockingItems",null);pe(Me,fn)[t]=this,this.id=n.id,this.name=n.name,this.type=n.type,this.altitude=n.altitude,this.isUsable=n.isUsable,this.isMovable=n.isMovable,this.isPickupable=n.isPickupable,this.isBlockingCreatures=n.isBlockingCreatures,this.isBlockingItems=n.isBlockingItems,this.sprite=ue.get(n.sprite),this.sprite.loop()}static async load(){try{const n=await(await fetch(Ta)).json();return new Promise(s=>{Object.values(n).forEach(i=>new Me(i.id,i)),s()})}catch(t){console.error("Error loading items:",t)}}static get(t){return pe(Me,fn)[t]??null}};fn=new WeakMap,kt(Me,fn,{});let Tt=Me;const Di=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Xt=function(e,t,n=1){const s=e.x-n,i=e.y-n,o=e.x+n,r=e.y+n;return t.x>=s&&t.x<=o&&t.y>=i&&t.y<=r},Zt=function(e,t){return e.x===t.x&&e.y===t.y};var Ea=Object.defineProperty,Aa=(e,t,n)=>t in e?Ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J=(e,t,n)=>(Aa(e,typeof t!="symbol"?t+"":t,n),n);class Oo{constructor(t){J(this,"_onPressed"),J(this,"_onPressedWithRepeat"),J(this,"_onReleased"),J(this,"_isPressed"),J(this,"_identity"),this._isPressed=!1,this._identity=t,typeof t=="function"?this._onPressedWithRepeat=t:(this._onPressed=t.onPressed,this._onPressedWithRepeat=t.onPressedWithRepeat,this._onReleased=t.onReleased)}get isEmpty(){return!this._onPressed&&!this._onPressedWithRepeat&&!this._onReleased}isOwnHandler(t){return this._identity===t}executePressed(t){var n,s;this._isPressed||(n=this._onPressed)==null||n.call(this,t),this._isPressed=!0,(s=this._onPressedWithRepeat)==null||s.call(this,t)}executeReleased(t){var n;this._isPressed&&((n=this._onReleased)==null||n.call(this,t)),this._isPressed=!1}}const Ps=class Jt{constructor(t,n,s={}){J(this,"_normalizedKeyCombo"),J(this,"_parsedKeyCombo"),J(this,"_handlerState"),J(this,"_keyComboEventMapper"),J(this,"_movingToNextSequenceAt"),J(this,"_sequenceIndex"),J(this,"_unitIndex"),J(this,"_lastActiveKeyPresses"),J(this,"_lastActiveKeyCount"),J(this,"_isPressedWithFinalUnit"),this._normalizedKeyCombo=Jt.normalizeKeyCombo(t),this._parsedKeyCombo=Jt.parseKeyCombo(t),this._handlerState=new Oo(s),this._keyComboEventMapper=n,this._movingToNextSequenceAt=0,this._sequenceIndex=0,this._unitIndex=0,this._lastActiveKeyPresses=[],this._lastActiveKeyCount=0,this._isPressedWithFinalUnit=null}static parseKeyCombo(t){if(Jt._parseCache[t])return Jt._parseCache[t];const n=t.toLowerCase();let s="",i=[],o=[i],r=[o];const l=[r];let c=!1;for(let p=0;p<t.length;p+=1)if(n[p]==="\\")c=!0;else if((n[p]==="+"||n[p]===">"||n[p]===",")&&!c){if(s)throw new Error("cannot have two operators in a row");s=n[p]}else n[p].match(/[^\s]/)&&(s&&(s===","?(i=[],o=[i],r=[o],l.push(r)):s===">"?(i=[],o=[i],r.push(o)):s==="+"&&(i=[],o.push(i)),s=""),c=!1,i.push(n[p]));const u=l.map(p=>p.map(T=>T.map(k=>k.join(""))));return Jt._parseCache[t]=u,u}static stringifyKeyCombo(t){return t.map(n=>n.map(s=>s.map(i=>i==="+"?"\\+":i===">"?"\\>":i===","?"\\,":i).join("+")).join(">")).join(",")}static normalizeKeyCombo(t){if(Jt._normalizationCache[t])return Jt._normalizationCache[t];const n=this.stringifyKeyCombo(this.parseKeyCombo(t));return Jt._normalizationCache[t]=n,n}get isPressed(){return!!this._isPressedWithFinalUnit}get sequenceIndex(){return this.isPressed?this._parsedKeyCombo.length:this._sequenceIndex}isOwnHandler(t){return this._handlerState.isOwnHandler(t)}executePressed(t){var n;(n=this._isPressedWithFinalUnit)!=null&&n.has(t.key)&&this._handlerState.executePressed(this._wrapEvent(this._lastActiveKeyPresses,{key:t.key,event:t}))}executeReleased(t){var n;(n=this._isPressedWithFinalUnit)!=null&&n.has(t.key)&&(this._handlerState.executeReleased(this._wrapEvent(this._lastActiveKeyPresses,{key:t.key,event:t})),this._isPressedWithFinalUnit=null)}updateState(t,n){const s=t.length,i=s<this._lastActiveKeyCount;this._lastActiveKeyCount=s;const o=this._parsedKeyCombo[this._sequenceIndex],r=o.slice(0,this._unitIndex),l=o.slice(this._unitIndex),c=()=>{this._movingToNextSequenceAt=0,this._sequenceIndex=0,this._unitIndex=0,this._lastActiveKeyPresses.length=0,this._handlerState.isEmpty&&(this._isPressedWithFinalUnit=null)};let u=0;if(i){if(this._movingToNextSequenceAt===0)return c();if(this._movingToNextSequenceAt+n<Date.now()||s!==0)return;this._movingToNextSequenceAt=0,this._sequenceIndex+=1,this._unitIndex=0;return}for(const p of r){for(const T of p){let k=!1;for(let M=u;M<t.length&&M<u+p.length;M+=1)if(t[M].key===T){k=!0;break}if(!k)return c()}u+=p.length}if(this._movingToNextSequenceAt===0){for(const p of l){for(const T of p){let k=!1;for(let M=u;M<t.length&&M<u+p.length;M+=1)if(t[M].key===T){k=!0;break}if(!k)return}this._unitIndex+=1,u+=p.length}if(u<s-1)return c();if(this._lastActiveKeyPresses[this._sequenceIndex]=t.slice(0),this._sequenceIndex<this._parsedKeyCombo.length-1){this._movingToNextSequenceAt=Date.now();return}this._isPressedWithFinalUnit=new Set(o[o.length-1])}}_wrapEvent(t,n){return{...this._keyComboEventMapper(t,n),keyCombo:this._normalizedKeyCombo,keyEvents:t.flat().map(s=>s.event),finalKeyEvent:n.event}}};J(Ps,"_parseCache",{}),J(Ps,"_normalizationCache",{});let le=Ps;const Ia={addEventListener:(...e)=>{},removeEventListener:(...e)=>{},dispatchEvent:(...e)=>{}},Sa={userAgent:""},an=()=>typeof document<"u"?document:Ia,ka=()=>typeof navigator<"u"?navigator:Sa,Oa=()=>ka().userAgent.toLocaleLowerCase().includes("mac");let Es=!1;const Ma=e=>{!Oa()||e.key!=="Meta"||(Es=!0)},Fa=e=>{!Es||e.key!=="Meta"||(Es=!1,Mo())},Fn=new Map,Ka=e=>{Fn.set(e.key,e)},Ra=e=>{Fn.delete(e.key)},Mo=()=>{for(const e of Fn.values()){const t=new KeyboardEvent("keyup",{key:e.key,code:e.code,bubbles:!0,cancelable:!0});an().dispatchEvent(t)}Fn.clear()},La=e=>{try{const t=()=>e();return addEventListener("focus",t),()=>{removeEventListener("focus",t)}}catch{}},Da=e=>{try{const t=()=>{Mo(),e()};return addEventListener("blur",t),()=>removeEventListener("blur",t)}catch{}},Ha=e=>{try{const t=n=>(Ka(n),Ma(n),e({key:n.key,originalEvent:n,composedPath:()=>n.composedPath(),preventDefault:()=>n.preventDefault()}));return an().addEventListener("keydown",t),()=>an().removeEventListener("keydown",t)}catch{}},Ba=e=>{try{const t=n=>(Ra(n),Fa(n),e({key:n.key,originalEvent:n,composedPath:()=>n.composedPath(),preventDefault:()=>n.preventDefault()}));return an().addEventListener("keyup",t),()=>an().removeEventListener("keyup",t)}catch{}},ja=1e3;class qa{constructor(t={}){J(this,"sequenceTimeout"),J(this,"_isActive"),J(this,"_unbinder"),J(this,"_onActiveBinder"),J(this,"_onInactiveBinder"),J(this,"_onKeyPressedBinder"),J(this,"_onKeyReleasedBinder"),J(this,"_keyComboEventMapper"),J(this,"_selfReleasingKeys"),J(this,"_keyRemap"),J(this,"_handlerStates"),J(this,"_keyComboStates"),J(this,"_keyComboStatesArray"),J(this,"_activeKeyPresses"),J(this,"_activeKeyMap"),J(this,"_watchedKeyComboStates"),this.sequenceTimeout=ja,this._isActive=!0,this._onActiveBinder=()=>{},this._onInactiveBinder=()=>{},this._onKeyPressedBinder=()=>{},this._onKeyReleasedBinder=()=>{},this._keyComboEventMapper=()=>({}),this._selfReleasingKeys=[],this._keyRemap={},this._handlerStates={},this._keyComboStates={},this._keyComboStatesArray=[],this._activeKeyPresses=[],this._activeKeyMap=new Map,this._watchedKeyComboStates={},this.bindEnvironment(t)}get pressedKeys(){return this._activeKeyPresses.map(t=>t.key)}bindKey(t,n){var s;t=t.toLowerCase();const i=new Oo(n);(s=this._handlerStates)[t]??(s[t]=[]),this._handlerStates[t].push(i)}unbindKey(t,n){t=t.toLowerCase();const s=this._handlerStates[t];if(s)if(n)for(let i=0;i<s.length;i+=1)s[i].isOwnHandler(n)&&(s.splice(i,1),i-=1);else s.length=0}bindKeyCombo(t,n){var s;t=le.normalizeKeyCombo(t);const i=new le(t,this._keyComboEventMapper,n);(s=this._keyComboStates)[t]??(s[t]=[]),this._keyComboStates[t].push(i),this._keyComboStatesArray.push(i)}unbindKeyCombo(t,n){t=le.normalizeKeyCombo(t);const s=this._keyComboStates[t];if(s)if(n){for(let i=0;i<s.length;i+=1)if(s[i].isOwnHandler(n)){for(let o=0;o<this._keyComboStatesArray.length;o+=1)this._keyComboStatesArray[o]===s[i]&&(this._keyComboStatesArray.splice(o,1),o-=1);s.splice(i,1),i-=1}}else s.length=0}checkKey(t){return this._activeKeyMap.has(t.toLowerCase())}checkKeyCombo(t){return this._ensureCachedKeyComboState(t).isPressed}checkKeyComboSequenceIndex(t){return this._ensureCachedKeyComboState(t).sequenceIndex}bindEnvironment(t={}){this.unbindEnvironment(),this._onActiveBinder=t.onActive??La,this._onInactiveBinder=t.onInactive??Da,this._onKeyPressedBinder=t.onKeyPressed??Ha,this._onKeyReleasedBinder=t.onKeyReleased??Ba,this._keyComboEventMapper=t.mapKeyComboEvent??(()=>({})),this._selfReleasingKeys=t.selfReleasingKeys??[],this._keyRemap=t.keyRemap??{};const n=this._onActiveBinder(()=>{this._isActive=!0}),s=this._onInactiveBinder(()=>{this._isActive=!1}),i=this._onKeyPressedBinder(r=>{this._handleKeyPress(r)}),o=this._onKeyReleasedBinder(r=>{this._handleKeyRelease(r)});this._unbinder=()=>{n==null||n(),s==null||s(),i==null||i(),o==null||o()}}unbindEnvironment(){var t;(t=this._unbinder)==null||t.call(this)}_ensureCachedKeyComboState(t){t=le.normalizeKeyCombo(t),this._watchedKeyComboStates[t]||(this._watchedKeyComboStates[t]=new le(t,this._keyComboEventMapper));const n=this._watchedKeyComboStates[t];return n.updateState(this._activeKeyPresses,this.sequenceTimeout),n}_handleKeyPress(t){if(!this._isActive)return;t={...t,key:t.key.toLowerCase()};const n=this._keyRemap[t.key];n&&(t.key=n);const s=this._handlerStates[t.key];if(s)for(const o of s)o.executePressed(t);const i=this._activeKeyMap.get(t.key);if(i)i.event=t;else{const o={key:t.key,event:t};this._activeKeyMap.set(t.key,o),this._activeKeyPresses.push(o)}this._updateKeyComboStates();for(const o of this._keyComboStatesArray)o.executePressed(t)}_handleKeyRelease(t){t={...t,key:t.key.toLowerCase()};const n=this._keyRemap[t.key];n&&(t.key=n);const s=this._handlerStates[t.key];if(s)for(const i of s)i.executeReleased(t);if(this._activeKeyMap.has(t.key)){this._activeKeyMap.delete(t.key);for(let i=0;i<this._activeKeyPresses.length;i+=1)if(this._activeKeyPresses[i].key===t.key){this._activeKeyPresses.splice(i,1),i-=1;break}}this._tryReleaseSelfReleasingKeys(),this._updateKeyComboStates();for(const i of this._keyComboStatesArray)i.executeReleased(t)}_updateKeyComboStates(){for(const t of this._keyComboStatesArray)t.updateState(this._activeKeyPresses,this.sequenceTimeout)}_tryReleaseSelfReleasingKeys(){for(const t of this._activeKeyPresses)for(const n of this._selfReleasingKeys)t.key===n&&this._handleKeyRelease(t.event)}}let $a,As;const Ua=e=>{As=e??new qa($a)},Fo=()=>(As||Ua(),As),Wa=(...e)=>Fo().bindKey(...e),se=(...e)=>Fo().checkKey(...e);le.normalizeKeyCombo;le.stringifyKeyCombo;le.parseKeyCombo;const en=class en{static init(){document.addEventListener("keydown",()=>setTimeout(en.triggerKeyHoldingFunctions)),window.keyboardLoop=setInterval(en.triggerKeyHoldingFunctions,200),Wa("i",()=>{st("inventory-toggle")})}};L(en,"triggerKeyHoldingFunctions",()=>{(se("ArrowUp")||se("w"))&&st("move-north"),(se("ArrowDown")||se("s"))&&st("move-south"),(se("ArrowLeft")||se("a"))&&st("move-west"),(se("ArrowRight")||se("d"))&&st("move-east")});let Is=en;var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Va=function(){this.pointsToAvoid={},this.startX,this.callback,this.startY,this.endX,this.endY,this.nodeHash={},this.openList},Ga=function(e,t,n,s,i){this.parent=e,this.x=t,this.y=n,this.costSoFar=s,this.simpleDistanceToTarget=i,this.bestGuessDistance=function(){return this.costSoFar+this.simpleDistanceToTarget}},Ko={exports:{}};(function(e,t){(function(){var n,s,i,o,r,l,c,u,p,T,k,M,X,j,Y;i=Math.floor,T=Math.min,s=function(g,w){return g<w?-1:g>w?1:0},p=function(g,w,A,_,x){var m;if(A==null&&(A=0),x==null&&(x=s),A<0)throw new Error("lo must be non-negative");for(_==null&&(_=g.length);A<_;)m=i((A+_)/2),x(w,g[m])<0?_=m:A=m+1;return[].splice.apply(g,[A,A-A].concat(w)),w},l=function(g,w,A){return A==null&&(A=s),g.push(w),j(g,0,g.length-1,A)},r=function(g,w){var A,_;return w==null&&(w=s),A=g.pop(),g.length?(_=g[0],g[0]=A,Y(g,0,w)):_=A,_},u=function(g,w,A){var _;return A==null&&(A=s),_=g[0],g[0]=w,Y(g,0,A),_},c=function(g,w,A){var _;return A==null&&(A=s),g.length&&A(g[0],w)<0&&(_=[g[0],w],w=_[0],g[0]=_[1],Y(g,0,A)),w},o=function(g,w){var A,_,x,m,h,B;for(w==null&&(w=s),m=(function(){B=[];for(var G=0,V=i(g.length/2);0<=V?G<V:G>V;0<=V?G++:G--)B.push(G);return B}).apply(this).reverse(),h=[],_=0,x=m.length;_<x;_++)A=m[_],h.push(Y(g,A,w));return h},X=function(g,w,A){var _;if(A==null&&(A=s),_=g.indexOf(w),_!==-1)return j(g,0,_,A),Y(g,_,A)},k=function(g,w,A){var _,x,m,h,B;if(A==null&&(A=s),x=g.slice(0,w),!x.length)return x;for(o(x,A),B=g.slice(w),m=0,h=B.length;m<h;m++)_=B[m],c(x,_,A);return x.sort(A).reverse()},M=function(g,w,A){var _,x,m,h,B,G,V,lt,it;if(A==null&&(A=s),w*10<=g.length){if(m=g.slice(0,w).sort(A),!m.length)return m;for(x=m[m.length-1],V=g.slice(w),h=0,G=V.length;h<G;h++)_=V[h],A(_,x)<0&&(p(m,_,0,null,A),m.pop(),x=m[m.length-1]);return m}for(o(g,A),it=[],B=0,lt=T(w,g.length);0<=lt?B<lt:B>lt;0<=lt?++B:--B)it.push(r(g,A));return it},j=function(g,w,A,_){var x,m,h;for(_==null&&(_=s),x=g[A];A>w;){if(h=A-1>>1,m=g[h],_(x,m)<0){g[A]=m,A=h;continue}break}return g[A]=x},Y=function(g,w,A){var _,x,m,h,B;for(A==null&&(A=s),x=g.length,B=w,m=g[w],_=2*w+1;_<x;)h=_+1,h<x&&!(A(g[_],g[h])<0)&&(_=h),g[w]=g[_],w=_,_=2*w+1;return g[w]=m,j(g,B,w,A)},n=function(){g.push=l,g.pop=r,g.replace=u,g.pushpop=c,g.heapify=o,g.updateItem=X,g.nlargest=k,g.nsmallest=M;function g(w){this.cmp=w??s,this.nodes=[]}return g.prototype.push=function(w){return l(this.nodes,w,this.cmp)},g.prototype.pop=function(){return r(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},g.prototype.replace=function(w){return u(this.nodes,w,this.cmp)},g.prototype.pushpop=function(w){return c(this.nodes,w,this.cmp)},g.prototype.heapify=function(){return o(this.nodes,this.cmp)},g.prototype.updateItem=function(w){return X(this.nodes,w,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var w;return w=new g,w.nodes=this.nodes.slice(0),w},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,w){return e.exports=w()}(this,function(){return n})}).call(za)})(Ko);var Na=Ko.exports,Ya=Na,pt={},Ja=Va,Qa=Ga,Xa=Ya;const Za=0,tc=1;var ec=pt,nc=1;pt.js=function(){var e=1,t=1.4,n=!1,s={},i,o={},r={},l={},c=!0,u,p={},T=[],k=Number.MAX_VALUE,M,X=!1;this.setAcceptableTiles=function(x){x instanceof Array?M=x:!isNaN(parseFloat(x))&&isFinite(x)&&(M=[x])},this.enableSync=function(){n=!0},this.disableSync=function(){n=!1},this.enableDiagonals=function(){X=!0},this.disableDiagonals=function(){X=!1},this.setGrid=function(x){i=x;for(var m=0;m<i.length;m++)for(var h=0;h<i[0].length;h++)o[i[m][h]]||(o[i[m][h]]=1)},this.setTileCost=function(x,m){o[x]=m},this.setAdditionalPointCost=function(x,m,h){r[m]===void 0&&(r[m]={}),r[m][x]=h},this.removeAdditionalPointCost=function(x,m){r[m]!==void 0&&delete r[m][x]},this.removeAllAdditionalPointCosts=function(){r={}},this.setDirectionalCondition=function(x,m,h){l[m]===void 0&&(l[m]={}),l[m][x]=h},this.removeAllDirectionalConditions=function(){l={}},this.setIterationsPerCalculation=function(x){k=x},this.avoidAdditionalPoint=function(x,m){s[m]===void 0&&(s[m]={}),s[m][x]=1},this.stopAvoidingAdditionalPoint=function(x,m){s[m]!==void 0&&delete s[m][x]},this.enableCornerCutting=function(){c=!0},this.disableCornerCutting=function(){c=!1},this.stopAvoidingAllAdditionalPoints=function(){s={}},this.findPath=function(x,m,h,B,G){var V=function(ft){n?G(ft):setTimeout(function(){G(ft)})};if(M===void 0)throw new Error("You can't set a path without first calling setAcceptableTiles() on EasyStar.");if(i===void 0)throw new Error("You can't set a path without first calling setGrid() on EasyStar.");if(x<0||m<0||h<0||B<0||x>i[0].length-1||m>i.length-1||h>i[0].length-1||B>i.length-1)throw new Error("Your start or end point is outside the scope of your grid.");if(x===h&&m===B){V([]);return}for(var lt=i[B][h],it=!1,St=0;St<M.length;St++)if(lt===M[St]){it=!0;break}if(it===!1){V(null);return}var ct=new Ja;ct.openList=new Xa(function(ft,ot){return ft.bestGuessDistance()-ot.bestGuessDistance()}),ct.isDoneCalculating=!1,ct.nodeHash={},ct.startX=x,ct.startY=m,ct.endX=h,ct.endY=B,ct.callback=V,ct.openList.push(A(ct,ct.startX,ct.startY,null,e));var Pe=nc++;return p[Pe]=ct,T.push(Pe),Pe},this.cancelPath=function(x){return x in p?(delete p[x],!0):!1},this.calculate=function(){if(!(T.length===0||i===void 0||M===void 0))for(u=0;u<k;u++){if(T.length===0)return;n&&(u=0);var x=T[0],m=p[x];if(typeof m>"u"){T.shift();continue}if(m.openList.size()===0){m.callback(null),delete p[x],T.shift();continue}var h=m.openList.pop();if(m.endX===h.x&&m.endY===h.y){var B=[];B.push({x:h.x,y:h.y});for(var G=h.parent;G!=null;)B.push({x:G.x,y:G.y}),G=G.parent;B.reverse();var V=B;m.callback(V),delete p[x],T.shift();continue}h.list=Za,h.y>0&&j(m,h,0,-1,e*w(h.x,h.y-1)),h.x<i[0].length-1&&j(m,h,1,0,e*w(h.x+1,h.y)),h.y<i.length-1&&j(m,h,0,1,e*w(h.x,h.y+1)),h.x>0&&j(m,h,-1,0,e*w(h.x-1,h.y)),X&&(h.x>0&&h.y>0&&(c||Y(i,M,h.x,h.y-1,h)&&Y(i,M,h.x-1,h.y,h))&&j(m,h,-1,-1,t*w(h.x-1,h.y-1)),h.x<i[0].length-1&&h.y<i.length-1&&(c||Y(i,M,h.x,h.y+1,h)&&Y(i,M,h.x+1,h.y,h))&&j(m,h,1,1,t*w(h.x+1,h.y+1)),h.x<i[0].length-1&&h.y>0&&(c||Y(i,M,h.x,h.y-1,h)&&Y(i,M,h.x+1,h.y,h))&&j(m,h,1,-1,t*w(h.x+1,h.y-1)),h.x>0&&h.y<i.length-1&&(c||Y(i,M,h.x,h.y+1,h)&&Y(i,M,h.x-1,h.y,h))&&j(m,h,-1,1,t*w(h.x-1,h.y+1)))}};var j=function(x,m,h,B,G){var V=m.x+h,lt=m.y+B;if((s[lt]===void 0||s[lt][V]===void 0)&&Y(i,M,V,lt,m)){var it=A(x,V,lt,m,G);it.list===void 0?(it.list=tc,x.openList.push(it)):m.costSoFar+G<it.costSoFar&&(it.costSoFar=m.costSoFar+G,it.parent=m,x.openList.updateItem(it))}},Y=function(x,m,h,B,G){var V=l[B]&&l[B][h];if(V){var lt=g(G.x-h,G.y-B),it=function(){for(var ct=0;ct<V.length;ct++)if(V[ct]===lt)return!0;return!1};if(!it())return!1}for(var St=0;St<m.length;St++)if(x[B][h]===m[St])return!0;return!1},g=function(x,m){if(x===0&&m===-1)return pt.TOP;if(x===1&&m===-1)return pt.TOP_RIGHT;if(x===1&&m===0)return pt.RIGHT;if(x===1&&m===1)return pt.BOTTOM_RIGHT;if(x===0&&m===1)return pt.BOTTOM;if(x===-1&&m===1)return pt.BOTTOM_LEFT;if(x===-1&&m===0)return pt.LEFT;if(x===-1&&m===-1)return pt.TOP_LEFT;throw new Error("These differences are not valid: "+x+", "+m)},w=function(x,m){return r[m]&&r[m][x]||o[i[m][x]]},A=function(x,m,h,B,G){if(x.nodeHash[h]!==void 0){if(x.nodeHash[h][m]!==void 0)return x.nodeHash[h][m]}else x.nodeHash[h]={};var V=_(m,h,x.endX,x.endY);if(B!==null)var lt=B.costSoFar+G;else lt=0;var it=new Qa(B,m,h,lt,V);return x.nodeHash[h][m]=it,it},_=function(x,m,h,B){if(X){var G=Math.abs(x-h),V=Math.abs(m-B);return G<V?t*G+V:t*V+G}else{var G=Math.abs(x-h),V=Math.abs(m-B);return G+V}}};pt.TOP="TOP";pt.TOP_RIGHT="TOP_RIGHT";pt.RIGHT="RIGHT";pt.BOTTOM_RIGHT="BOTTOM_RIGHT";pt.BOTTOM="BOTTOM";pt.BOTTOM_LEFT="BOTTOM_LEFT";pt.LEFT="LEFT";pt.TOP_LEFT="TOP_LEFT";const sc={inventoryOpen:new Audio("sfx/inventory-open.mp3"),inventoryClose:new Audio("sfx/inventory-close.mp3"),spikes:new Audio("sfx/spikes.mp3"),click:new Audio("sfx/click.wav"),confirm:new Audio("sfx/confirm.mp3"),chest:new Audio("sfx/chest.m4a"),footstep:new Audio("sfx/footstep.m4a"),dead:new Audio("sfx/dead.m4a"),mining:new Audio("sfx/mining.m4a"),pickup:new Audio("sfx/pickup.m4a"),potion:new Audio("sfx/potion.m4a"),login:new Audio("sfx/login.m4a"),background:new Audio("sfx/background.m4a")},Ct=function(e){sc[e].cloneNode().play()},K=class K{static init(){K.easyStar=new ec.js,window.addEventListener("move-north",()=>{K.clearPath(),K.walk("north")}),window.addEventListener("move-south",()=>{K.clearPath(),K.walk("south")}),window.addEventListener("move-west",()=>{K.clearPath(),K.walk("west")}),window.addEventListener("move-east",()=>{K.clearPath(),K.walk("east")})}static walk(t){if(K.isBlocked)return!1;if(q.movement.isMoving)return q.movement.currentFrame>W-W/3?(K.queuedMove=t,!0):!1;const n=K.getTargetPosition(q,t);return C.isWalkable(n)?(K.move(q,n,t),!0):(q.sprite.loop("idle-"+t),!1)}static move(t,n,s){Ct("footstep"),t.movement.timeouts.forEach(i=>clearTimeout(i)),t.movement.timeouts=[],t.currentFrame=0,t.offset={x:0,y:0},t.movement.isMoving=!0;for(let i=0;i<W;i++){const o=setTimeout(()=>{K.handleMovingFrame(t,n,s)},1e4/t.speed/W*i);t.movement.timeouts.push(o)}}static handleMovingFrame(t,n,s){if(t.sprite.loop("walk-"+s),t.movement.currentFrame++,K.updateOffsetAfterAnimationFrameChange(t,s),t.movement.currentFrame===W/2&&(t.position=n,st("hero-position-changed"),K.updateOffsetAfterPositionChange(t,s)),t.movement.currentFrame===W){if(t.movement.isMoving=!1,t.movement.currentFrame=0,t.movement.timeouts.forEach(i=>clearTimeout(i)),t.movement.timeouts=[],t.isHero()&&K.queuedMove&&(s=K.queuedMove,K.queuedMove=null,K.walk(s)))return;if(K.path)if(Zt(K.path.destination,n))K.clearPath();else{K.makePathStep();return}t.sprite.loop("idle-"+s)}}static getDirection(t,n){if(t.x<n.x)return"east";if(t.x>n.x)return"west";if(t.y>n.y)return"north";if(t.y<n.y)return"south"}static getTargetPosition(t,n){const s={north:{x:0,y:-1},south:{x:0,y:1},west:{x:-1,y:0},east:{x:1,y:0}};return{x:t.position.x+s[n].x,y:t.position.y+s[n].y}}static updateOffsetAfterAnimationFrameChange(t,n){({north:()=>t.offset.y--,south:()=>t.offset.y++,west:()=>t.offset.x--,east:()=>t.offset.x++})[n]()}static updateOffsetAfterPositionChange(t,n){({north:()=>t.offset.y=W/2,south:()=>t.offset.y=-(W/2),west:()=>t.offset.x=W/2,east:()=>t.offset.x=-(W/2)})[n]()}static clearPath(){K.path=null}static setPath(t,n,s=null){K.path={destination:{...t},action:n,actionData:s},q.movement.isMoving||K.makePathStep()}static makePathStep(){if(!K.path||Zt(K.path.destination,q.position)){K.path=null,q.sprite.loop("idle-south");return}const t=[],n=C.positionServerToClient(q.position),s=C.positionServerToClient(K.path.destination);for(let i=C.firstTilePosition.y;i<=C.lastTilePosition.y;i++){const o=[];for(let r=C.firstTilePosition.x;r<=C.lastTilePosition.x;r++){const l={x:r,y:i};let c=Zt(K.path.destination,l)?!0:C.isWalkable(l);o.push(Number(c))}t.push(o)}K.easyStar.setGrid(t),K.easyStar.setAcceptableTiles([1]),K.easyStar.findPath(n.x,n.y,s.x,s.y,i=>{if(i===null){console.log("Path was not found.");return}if(K.path.action==="use"&&(i.length===2||Xt(q.position,K.path.destination))){q.sprite.loop("idle-south"),tn.use(K.path.destination,K.path.actionData.itemId),K.clearPath();return}if(K.path.action==="move"&&(i.length===2||Xt(q.position,K.path.destination))){q.sprite.loop("idle-south"),K.path.actionData.itemId===C.getTileTopItem(K.path.actionData.positionFrom)&&(Dt.grabItem(K.path.actionData.positionFrom),Dt.releaseItem(K.path.actionData.positionTo)),K.clearPath();return}if(K.path.action==="pick-up"&&(i.length===2||Xt(q.position,K.path.destination))){q.sprite.loop("idle-south"),K.path.actionData.itemId===C.getTileTopItem(K.path.actionData.positionFrom)&&(Dt.grabItem(K.path.actionData.positionFrom),Dt.releaseItem(K.path.actionData.slot)),K.clearPath();return}K.walk(K.getDirection(n,i[1]))||K.clearPath()}),K.easyStar.calculate()}};L(K,"queuedMove",null),L(K,"easyStar",null),L(K,"path",null),L(K,"isBlocked",!1);let zt=K;const F=class F{static init(){document.addEventListener("mousemove",t=>{F.recalcMousePosition(t),F.isLeftButtonPressed&&!F.grabbing.itemId&&F.grabItem({...F.positionServer})},!1),document.addEventListener("mousedown",t=>{F.recalcMousePosition(t),(t.which===1||t.button===0)&&(F.isLeftButtonPressed=!0),(t.which===3||t.button===2)&&(F.isRightButtonPressed=!0)},!1),document.addEventListener("mouseup",t=>{F.recalcMousePosition(t),(t.which===1||t.button===0)&&(F.isLeftButtonPressed=!1,F.onLeftButtonRelease(t)),(t.which===3||t.button===2)&&(F.isRightButtonPressed=!1)},!1),document.addEventListener("contextmenu",t=>(t==null?void 0:t.cancelable)&&t.preventDefault())}static recalcMousePosition(t){const n=C.ctx.canvas.getBoundingClientRect(),s={positionWindow:{...F.positionWindow},positionClient:{...F.positionClient},positionServer:{...F.positionServer}};F.positionWindow={x:t.clientX,y:t.clientY},F.positionCanvas={x:(t.clientX-n.left)/(n.right-n.left)*C.ctx.canvas.width,y:(t.clientY-n.top)/(n.bottom-n.top)*C.ctx.canvas.height},F.positionClient={x:Math.floor((F.positionCanvas.x+q.offset.x)/W),y:Math.floor((F.positionCanvas.y+q.offset.y)/W)},!Zt(F.positionClient,s.positionClient)||!Zt(F.positionServer,s.positionServer)?F.updateCursorAndServerPosition():F.positionServer=C.positionClientToServer(F.positionClient)}static updateCursorAndServerPosition(){if(F.positionServer=C.positionClientToServer(F.positionClient),F.grabbing.itemId)return;const t=C.getTileTopItem(F.positionServer);t===6?F.setCursor("chest"):t===8?F.setCursor("pick"):F.setCursor("default")}static onLeftButtonPress(t){}static onLeftButtonRelease(t){if(F.grabbing.itemId){t.target.id==="board"?F.releaseItem({...F.positionServer}):t.target.classList&&t.target.classList.contains("slot")?F.releaseItem(t.target.getAttribute("data-slot-index"),{...F.positionServer}):(F.cleanGrab(),F.updateCursorAndServerPosition());return}if(F.cleanGrab(),t.target.id!=="board")return;const n={...F.positionServer},s=C.getTileTopItem(n),i=Tt.get(s);if(i.isUsable){F.runEffect("pointer-cross-red"),Xt(q.position,n)?tn.use(n,s):zt.setPath(F.positionServer,"use",{itemId:i.id});return}i.isUsable||(F.runEffect("pointer-cross-yellow"),zt.setPath(F.positionServer,"walk"))}static onRightButtonPress(){}static onRightButtonRelease(){}static grabItem(t){const n=C.getTileTopItem(t);Tt.get(n).isMovable&&(F.grabbing.itemId=n,F.grabbing.position=t,F.setCursor("crosshair"))}static releaseItem(t){const n=Tt.get(F.grabbing.itemId),s={...F.grabbing.position};if(F.cleanGrab(),F.updateCursorAndServerPosition(),Di(t)){if(Zt(s,t))return;if(Xt(q.position,s))tn.moveItem(s,t,n.id);else{zt.setPath(s,"move",{itemId:n.id,positionFrom:s,positionTo:t});return}}if(!Di(t)){if(!n.isPickupable)return;Xt(q.position,s)?tn.pickUp(n.id,s,t):zt.setPath(s,"pick-up",{itemId:n.id,positionFrom:s,slot:t})}}static cleanGrab(){F.grabbing.itemId=null,F.grabbing.position={x:null,y:null}}static runEffect(t){const n=ue.get(t).clone(),s={sprite:n,position:{...F.positionCanvas}};n.play().then(()=>{F.effect===s&&(F.effect=null)}),F.effect=s}static setCursor(t){t==="default"?Ts.removeAttribute("cursor"):Ts.setAttribute("cursor",t)}};L(F,"positionWindow",{x:null,y:null}),L(F,"positionCanvas",{x:null,y:null}),L(F,"positionClient",{x:null,y:null}),L(F,"positionServer",{x:null,y:null}),L(F,"isLeftButtonPressed",!1),L(F,"isRightButtonPressed",!1),L(F,"grabbing",{itemId:null,position:{x:null,y:null}}),L(F,"effect",null);let Dt=F;var Kn,Ro,Rn,Lo,Ln,Do,Dn,Ho,Hn,Bo,Bn,jo;const wt=class wt{static async connect(t){return new Promise(n=>(window.addEventListener("hero-position-changed",me(wt,Bn,jo)),window.addEventListener("update-vitals",s=>{var i;((i=s.detail)==null?void 0:i.health)===0&&st("dead")}),n()))}static emit(t,n){var s,i,o,r,l;if(t==="use")return me(s=wt,Kn,Ro).call(s,n);if(t==="move-item")return me(i=wt,Rn,Lo).call(i,n);if(t==="pick-up")return me(o=wt,Ln,Do).call(o,n);if(t==="drop")return me(r=wt,Dn,Ho).call(r,n);if(t==="request-tiles")return me(l=wt,Hn,Bo).call(l,n)}};Kn=new WeakSet,Ro=function(t){var n;if(t.itemId===6){const s=C.getTileStack(t.position);s.pop(),s.push(Mt(2)?9:11),Ct("chest"),st("update-tile",{position:t.position,stack:s}),st("run-effect",{position:t.position,effect:"yellow-sparkles"})}if(t.itemId===8){Ct("mining"),st("run-effect",{position:t.position,effect:"ore-hit"});let s=ba(3);Mt(3)&&s&&(st("loot",{itemId:10,quantity:s}),((n=An.getSlot(0).item)==null?void 0:n.id)===10&&(s=An.getSlot(0).quantity+1),st("update-inventory-slot",{slot:0,itemId:10,quantity:s}))}if(t.itemId===9){let s=ie.health+10;s>ie.maxHealth&&(s=ie.maxHealth),st("update-vitals",{health:s}),st("run-effect",{position:q.position,effect:"red-sparkles"}),Ct("potion")}if(t.itemId===11){let s=ie.mana+10;s>ie.maxMana&&(s=ie.maxMana),st("update-vitals",{mana:s}),st("run-effect",{position:q.position,effect:"blue-sparkles"}),Ct("potion")}Dt.updateCursorAndServerPosition()},Rn=new WeakSet,Lo=function(t){const n=C.getTileStack(t.from);n.pop();const s=C.getTileStack(t.to);s.push(t.itemId),st("update-tile",{position:t.from,stack:n}),st("update-tile",{position:t.to,stack:s})},Ln=new WeakSet,Do=function(t){C.getTileStack(t.position).pop(),st("update-inventory-slot",{slot:t.slot,itemId:t.itemId,quantity:1})},Dn=new WeakSet,Ho=function(t){const n=An.getSlot(t.slot).item.id,s=C.getTileStack(t.position);s.push(n),st("update-tile",{position:t.position,stack:s}),st("update-inventory-slot",{slot:t.slot,itemId:null})},Hn=new WeakSet,Bo=function(t){for(const n of t.positions){const s=[];Mt(40)?s.push(2):Mt(40)?s.push(3):Mt(30)?s.push(4):s.push(1),Zt(n,q.position)||(Mt(100)?s.push(6):Mt(100)?s.push(8):Mt(100)?s.push(5):Mt(100)?s.push(7):Mt(100)&&s.push(12)),st("update-tile",{position:n,stack:s}),Mt(350)&&st("add-creature",{position:n,name:"NPC #"+ko(4)})}},Bn=new WeakSet,jo=function(){const t=C.getTileStack(q.position);t.forEach((n,s)=>{if(n===12){let i=ie.health-15;i<0&&(i=0),t[s]=13,C.update(),st("run-effect",{position:q.position,effect:"blood",onCreature:!0}),st("update-vitals",{health:i}),Ct("spikes"),setTimeout(()=>{t[s]=12},1e3)}})},kt(wt,Kn),kt(wt,Rn),kt(wt,Ln),kt(wt,Dn),kt(wt,Hn),kt(wt,Bn);let we=wt;class tn{static pickUp(t,n,s){if(t!==C.getTileTopItem(n)||!Xt(q.position,n))return!1;we.emit("pick-up",{itemId:t,position:n,slot:s})}static moveItem(t,n,s){if(Zt(t,n)||s!==C.getTileTopItem(t)||C.getTileStack(n).find(i=>Tt.get(i).isBlockingItems)||!Xt(q.position,t))return!1;we.emit("move-item",{itemId:s,from:t,to:n})}static use(t,n){if(C.getTileTopItem(t)!==n||!Xt(q.position,t))return!1;we.emit("use",{itemId:n,position:t})}static requestTiles(t){we.emit("request-tiles",{positions:t})}}class qo{constructor(t,n){L(this,"name",null);L(this,"position",{x:null,y:null});L(this,"offset",{x:null,y:null});L(this,"sprite",null);L(this,"speed",25);L(this,"healthPercent",100);L(this,"movement",{isMoving:!1,currentFrame:0,timeouts:[]});C.creatures[t]=this,this.name=t,this.position=n,this.offset={x:0,y:0},this.sprite=ue.get("outfit").clone(),this.sprite.dye([_n(),_n(),_n(),_n()]),this.sprite.loop("idle-south")}isHero(){return this===q}move(t,n){zt.move(this,n,t)}}const S=class S{static init(){const t=document.createElement("canvas");t.id="board",t.width=W*Ve,t.height=W*Ge,t.style.transform="scale("+S.scale+")",document.querySelector("#app").append(t);const n=document.createElement("canvas");n.id="hud",n.width=W*Ve*S.scale,n.height=W*Ge*S.scale,document.querySelector("#app").append(n);const s=document.createElement("canvas");s.width=W*Ve,s.height=W*Ge,S.ctx=t.getContext("2d",{alpha:!1}),S.ctx.fillStyle="#25131a",S.hudCtx=n.getContext("2d"),S.tempCtx=s.getContext("2d"),S.tempCtx.fillStyle="#25131a",S.width=Ve,S.height=Ge,window.addEventListener("update-tile",i=>{S.updateTile(i.detail.position,i.detail.stack)}),window.addEventListener("run-effect",i=>{cn.get(i.detail.effect).run(i.detail.position,i.detail.onCreature??!1)}),window.addEventListener("add-creature",i=>{new qo(i.detail.name,i.detail.position)}),window.addEventListener("resize",S.onResize),window.addEventListener("hero-position-changed",S.update),S.update()}static update(){S.firstTilePosition={x:q.position.x-Math.floor(S.width/2),y:q.position.y-Math.floor(S.height/2)},S.lastTilePosition={x:q.position.x+Math.floor(S.width/2),y:q.position.y+Math.floor(S.height/2)};for(const[s,i]of Object.entries(S.creatures))S.isOnArea(i.position)||delete S.creatures[s];const t=[],n={};for(let s=S.firstTilePosition.y;s<=S.lastTilePosition.y;s++)for(let i=S.firstTilePosition.x;i<=S.lastTilePosition.x;i++)n[s]=n[s]||{},S.tiles[s]&&S.tiles[s][i]?n[s][i]=S.tiles[s][i]:(n[s][i]=[],t.push({x:i,y:s}));S.tiles=n,tn.requestTiles(t)}static getTileStack(t){return typeof S.tiles[t.y]>"u"||typeof S.tiles[t.y][t.x]>"u"?[]:S.tiles[t.y][t.x]}static getTileTopItem(t){const n=S.getTileStack(t);return n[n.length-1]??null}static updateTile(t,n){typeof S.tiles[t.y]<"u"&&typeof S.tiles[t.y][t.x]<"u"&&(S.tiles[t.y][t.x]=n)}static isWalkable(t){const n=S.getTileStack(t);return!(!n.find(s=>Tt.get(s).type==="ground")||n.find(s=>Tt.get(s).isBlockingCreatures))}static isOnArea(t){return t.x>=S.firstTilePosition.x&&t.x<=S.lastTilePosition.x&&t.y>=S.firstTilePosition.y&&t.y<=S.lastTilePosition.y}static positionClientToServer(t){return{x:t.x+S.firstTilePosition.x,y:t.y+S.firstTilePosition.y}}static positionServerToClient(t){return{x:t.x-S.firstTilePosition.x,y:t.y-S.firstTilePosition.y}}static getVisibleEffectsSprites(t){return S.effects&&S.effects[t.y]&&S.effects[t.y][t.x]?Object.values(this.effects[t.y][t.x]):[]}static onResize(){const t=window.innerWidth<=Li?Ri:Ki;S.scale!==t&&(S.scale=t,S.ctx.canvas.style.transform="scale("+S.scale+")",S.hudCtx.canvas.width=W*Ve*S.scale,S.hudCtx.canvas.height=W*Ge*S.scale)}static addFloatingText(t,n){const s=ko(8);S.texts[s]={position:{...q.position},content:t,offset:{x:0,y:-(W/2)},color:n,iteration:0};const i=setInterval(()=>{S.texts[s].offset.y--,S.texts[s].iteration++,S.texts[s].iteration>=30&&(delete S.texts[s],clearInterval(i))},25)}};L(S,"ctx",null),L(S,"tempCtx",null),L(S,"hudCtx",null),L(S,"scale",window.innerWidth<=Li?Ri:Ki),L(S,"width",null),L(S,"height",null),L(S,"firstTilePosition",{}),L(S,"lastTilePosition",{}),L(S,"tiles",{}),L(S,"effects",{}),L(S,"creatures",{}),L(S,"texts",{});let C=S;var un,jn,qn,hn;const re=class re{constructor(t,n){kt(this,qn,null);kt(this,hn,null);pe(re,un)[t]=this,mn(this,qn,t),mn(this,hn,n)}static async load(){try{const n=await(await fetch(Pa)).json();return new Promise(s=>{Object.values(n).forEach(i=>{new re(i.id,ue.get(i.sprite))}),s()})}catch(t){console.error("Error loading effects:",t)}}static get(t){return pe(re,un)[t]??null}run(t,n=!1){C.effects[t.y]||(C.effects[t.y]={}),C.effects[t.y][t.x]||(C.effects[t.y][t.x]={});const s=++ei(re,jn)._,i=pe(this,hn).clone();i.customData={onCreature:n},C.effects[t.y][t.x][s]=i,i.play().then(()=>{delete C.effects[t.y][t.x][s]})}};un=new WeakMap,jn=new WeakMap,qn=new WeakMap,hn=new WeakMap,kt(re,un,{}),kt(re,jn,0);let cn=re;class At{static renderTile(t,n,s,i){if(s==="ground"&&i.forEach(o=>{Tt.get(o).type==="ground"&&At.drawSprite(t,Tt.get(o).sprite)}),s==="objects"){let o=0;i.forEach(r=>{const l=Tt.get(r);l.type==="object"&&(At.drawSprite(t,l.sprite,o),o+=l.altitude)}),Object.values(C.creatures).forEach(r=>{Zt(n,r.position)&&(At.drawCreature(t,r,o),At.drawNickname(t,r,o),At.drawHealthBar(t,r,o))}),C.getVisibleEffectsSprites(n).forEach(r=>{r.customData.onCreature??!1?At.drawSprite(t,r,o+Math.ceil(W/8)):At.drawSprite(t,r,o)})}}static drawSprite(t,n,s=0){const i=n.getFrame(),o=t.y*W+(W-i.height)-s,r=t.x*W+(Math.ceil(W/2)-Math.ceil(i.width/2));C.tempCtx.drawImage(i,r,o)}static drawCreature(t,n,s=0){const i=n.sprite.getFrame(),o=t.y*W+(W-i.height)-Math.ceil(W/8)+n.offset.y-s,r=t.x*W+(Math.ceil(W/2)-Math.ceil(i.width/2))+n.offset.x;C.tempCtx.drawImage(i,r,o)}static drawNickname(t,n,s=0){let i=t.y*W-s,o=t.x*W;n.isHero()||(o=o-(q.offset.x-n.offset.x),i=i-(q.offset.y-n.offset.y)),i*=C.scale,o*=C.scale,C.hudCtx.fillStyle="#ffffff",C.hudCtx.strokeStyle="#000000",C.hudCtx.font="16px Hind Vadodara",C.hudCtx.lineWidth=2,i=i-26*C.scale,o=o+W*C.scale/2-Math.ceil(C.hudCtx.measureText(n.name).width/2),C.hudCtx.strokeText(n.name,o,i),C.hudCtx.fillText(n.name,o,i)}static drawHealthBar(t,n,s=0){const i=ue.get("hp-bar").getFrame();let o=t.y*W-s,r=t.x*W;n.isHero()||(r=r-(q.offset.x-n.offset.x),o=o-(q.offset.y-n.offset.y)),o*=C.scale,r*=C.scale,o=o-23*C.scale,r=r+W*C.scale/2-Math.ceil(i.width/2),C.hudCtx.fillStyle="#000000",C.hudCtx.globalAlpha=.5,C.hudCtx.fillRect(r-1,o-1,i.width+2,i.height+2),C.hudCtx.globalAlpha=1,C.hudCtx.drawImage(i,r,o,Math.ceil(i.width*n.healthPercent/100),i.height)}static render(){C.tempCtx.fillRect(0,0,C.tempCtx.canvas.width,C.tempCtx.canvas.height),C.hudCtx.clearRect(0,0,C.hudCtx.canvas.width,C.hudCtx.canvas.height);for(let t of["ground","objects"]){let n=0;for(let[s,i]of Object.entries(C.tiles)){let o=0;for(let[r,l]of Object.entries(i)){const c={x:o,y:n},u={x:Number(r),y:Number(s)};At.renderTile(c,u,t,l),o++}n++}}At.renderTexts(),At.renderPointerEffect(),C.ctx.drawImage(C.tempCtx.canvas,-q.offset.x,-q.offset.y),window.requestAnimationFrame(At.render)}static renderTexts(){C.hudCtx.font="bold 18px Hind Vadodara",C.hudCtx.lineWidth=2;for(let t of Object.values(C.texts)){const n=C.positionServerToClient(t.position),s=(n.y*W-q.offset.y)*C.scale+t.offset.y;let i=(n.x*W-q.offset.x)*C.scale+t.offset.x;i=i+W*C.scale/2-Math.ceil(C.hudCtx.measureText(t.content).width/2),C.hudCtx.fillStyle=t.color,C.hudCtx.strokeText(t.content,i,s),C.hudCtx.fillText(t.content,i,s)}}static renderPointerEffect(){if(!Dt.effect)return;const t=Dt.effect.sprite.getFrame(),n=Dt.effect.position,s=q.offset;C.tempCtx.drawImage(t,n.x+s.x-t.width/2,n.y+s.y-t.height/2)}}const Ue=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},ic={name:"Slot",props:{index:Number},data(){return{item:null,quantity:null}},methods:{set(e,t){var n;this.item=Tt.get(e),this.quantity=t,(n=this.$el.querySelector("canvas"))==null||n.remove(),this.sprite=this.item.sprite.clone(),this.sprite.getFrame(),this.$el.appendChild(this.sprite.canvas)},clear(){var e;this.item=null,this.quantity=null,(e=this.$el.querySelector("canvas"))==null||e.remove()}}},oc=["data-slot-index"],rc={key:0,class:"quantity"};function lc(e,t,n,s,i,o){return xt(),Vt("div",{class:"slot","data-slot-index":n.index},[i.quantity?(xt(),Vt("div",rc,Se(i.quantity),1)):Oe("",!0)],8,oc)}const ac=Ue(ic,[["render",lc]]),cc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACq0lEQVRYhe2XUUhTURjHfzeKoMGCmhGVE5ToofagjIUQJZEvkT4W9eJL0ENEL0GGlEFPQW+9SUEh1FOBlfQQSEkko7WFo8ZMhenSmbbmSrImnR7OzrZzd+e801Ko/9P9zvedc+73v//vO+fCvw6jXMCFg9XCavxG/7ixWNxQLAnAo9jconusK/uKfxjrSzlURifaDmjjqcQ0AEOxpJZxR7tHi+t7MiMfet8JKM3E2mOgtcYhENDRvg+AQEhmnI6ntbi2o3sBGJuZz8b9BOBm1wAIOHemEYDhiQ32XgBLyZWGMMfbnF9SAwreeplBX9x65ZqqjYCRY6jJVwfAvYfBlXmBpcFm2gXIKbPV7RAAlzuPATAWGNUC3d5azTb7zTjc4gIgEMoAcP5qAID3mZRWDWuvClKJzwDEpn9o47GnEUB9c3Du2qz50/FZIJ+5gtKCr3mTHHgmv5di4q8yYFhIxbYIc8xMf9LGPfXbNPtSVxgA/+AvAHzNICx6oQUDlSpaVDQ3x8DwpOpYBiBIJGVdb9/iXNJCqg8EkPH9vd80v5GYt5y3ggxUhhwDkUwKyGeSdi4A0Hn3FQCjoRcAdF85qy2gGJJVIXjwOqr5r53erdn+8AfNLlsFeeXKbyw0qwBFh8LSUFQF1+/Lur14sgGAkbfPAfAHBgH4mmUmh6xWPFSBgIngFwBe9sh7xJtglslu2ScU0wqr3gmNggcB0LjHC8DCVAiAQw3VABw/5QOgbsestsDIpOyItx9LrSgGmnzy7AiPfgQgOiftgag8E0R2b3uNyOpStcyiKVrSzITre8TWgqqf7D+S7f1Tsv7vBOUtWZj2XDsasHBYktvidgCw1SVPRU/tTs1/q2dcs5XqzZkrLPtGZAjzIWNPFGX/jCwm2NqhVOYKq66B//gNwynkrGpExSsAAAAASUVORK5CYII=";const fc={name:"Inventory",components:{Slot:ac},data(){return{visible:!1,audio:{open:null,close:null}}},methods:{getSlot(e){return this.$refs.slot[e]},getSlots(){return this.$refs.slot}},mounted(){Zn().setInventory(this),window.addEventListener("update-inventory-slot",e=>{e.detail.itemId?this.getSlot(e.detail.slot).set(e.detail.itemId,e.detail.quantity):this.getSlot(e.detail.slot).clear()}),window.addEventListener("inventory-toggle",()=>{this.visible=!this.visible,this.visible?Ct("inventoryOpen"):Ct("inventoryClose")})}},uc=ht("img",{src:cc,alt:"Inv"},null,-1),hc=[uc],dc=ht("div",{class:"header"},"Inventory",-1),pc={class:"container"};function mc(e,t,n,s,i,o){const r=Ye("Slot");return xt(),Vt(It,null,[ht("button",{class:Vn(["bookmark-inventory",{active:i.visible}]),onClick:t[0]||(t[0]=l=>i.visible=!i.visible)},hc,2),ht("div",{id:"inventory",style:De({display:i.visible?"block":"none"})},[dc,ht("div",pc,[(xt(),Vt(It,null,yo(80,l=>Gt(r,{ref_for:!0,ref:"slot",index:l-1},null,8,["index"])),64))])],4)],64)}const gc=Ue(fc,[["render",mc]]);const yc={name:"Vitality",data(){return{health:0,mana:0,maxHealth:0,maxMana:0,healthPercent:0,manaPercent:0,states:[]}},mounted(){Zn().setVitality(this),window.addEventListener("update-vitals",e=>{if(typeof e.detail.health<"u"){const t=e.detail.health-this.health;t&&(C.addFloatingText(Math.abs(t),t>0?"#00ff00":"#ff0000"),this.health=e.detail.health)}typeof e.detail.mana<"u"&&(this.mana=e.detail.mana),typeof e.detail.maxHealth<"u"&&(this.maxHealth=e.detail.maxHealth),typeof e.detail.maxMana<"u"&&(this.maxMana=e.detail.maxMana),typeof e.detail.states<"u"&&(this.states=e.detail.states),this.healthPercent=Math.ceil(this.health/this.maxHealth*100),this.manaPercent=Math.ceil(this.mana/this.maxMana*100),q.healthPercent=this.healthPercent})}},vc={id:"vitality"},xc=ht("div",{class:"icon"},null,-1),bc={class:"health-bar"},wc={class:"label"},_c={class:"mana-bar"},Cc={class:"label"};function Tc(e,t,n,s,i,o){return xt(),Vt("div",vc,[xc,ht("div",bc,[ht("div",{class:"indicator",style:De({width:i.healthPercent+"%"})},null,4),ht("div",wc,Se(i.health)+" / "+Se(i.maxHealth),1)]),ht("div",_c,[ht("div",{class:"indicator",style:De({width:i.manaPercent+"%"})},null,4),ht("div",Cc,Se(i.mana)+" / "+Se(i.maxMana),1)]),ht("div",null,[(xt(!0),Vt(It,null,yo(i.states,r=>(xt(),Vt("span",null,Se(r),1))),256))])])}const Pc=Ue(yc,[["render",Tc]]);const Ec={name:"DeadDisplay",data(){return{visible:!1,disabled:!1}},methods:{playAudio:Ct,respawn(){Ct("confirm"),this.disabled=!0,setTimeout(()=>window.location.href="",1e3)}},mounted(){window.addEventListener("dead",()=>{this.visible=!0,zt.clearPath(),zt.isBlocked=!0,delete C.creatures[q.name],Ct("dead")})}},Ac={key:0,id:"dead-display"},Ic={class:"container"},Sc=ht("h2",{class:"title"},"You are dead",-1),kc=ht("div",{class:"subtitle"},"Your deeds of valor will be remembered.",-1),Oc={class:"buttons"},Mc=["disabled"];function Fc(e,t,n,s,i,o){return i.visible?(xt(),Vt("div",Ac,[ht("div",Ic,[Sc,kc,ht("div",Oc,[ht("button",{onMouseenter:t[0]||(t[0]=r=>o.playAudio("click")),onClick:t[1]||(t[1]=r=>o.respawn()),disabled:i.disabled},"Respawn",40,Mc)])])])):Oe("",!0)}const Kc=Ue(Ec,[["render",Fc]]);const Rc={name:"Loot",methods:{addItem(e,t){const n=Tt.get(e),s=document.createElement("div");s.classList.add("entry");const i=document.createElement("div");i.classList.add("content"),i.innerText=n.name+" ("+t+")";const o=n.sprite.clone().getFrame();o.classList.add("image"),s.appendChild(o),s.appendChild(i),document.querySelector("#loot").appendChild(s),setTimeout(()=>{s.classList.add("hiding")},2500),setTimeout(()=>{s.remove()},3e3),Ct("pickup")}},mounted(){window.addEventListener("loot",e=>{this.addItem(e.detail.itemId,e.detail.quantity)})}},Lc={id:"loot"};function Dc(e,t,n,s,i,o){return xt(),Vt("div",Lc)}const Hc=Ue(Rc,[["render",Dc]]);const Bc={components:{DeadDisplay:Kc,Inventory:gc,Vitality:Pc,Loot:Hc},data(){return{loaded:!1}},methods:{async load(){await ue.load(),await Tt.load(),await cn.load(),await we.connect("token"),this.loaded=!0},async enter(e){Zn().setHero(e),st("update-vitals",{health:100,mana:50,maxHealth:100,maxMana:100}),Is.init(),Dt.init(),zt.init(),C.init(),At.render(),cn.get("energy").run(q.position,!0),Ct("login"),Ct("background")}},async mounted(){await this.load(),await this.enter(new qo("Guest",{x:100,y:100}))}};function jc(e,t,n,s,i,o){const r=Ye("Inventory"),l=Ye("Vitality"),c=Ye("DeadDisplay"),u=Ye("Loot");return xt(),Vt(It,null,[i.loaded?(xt(),Qe(r,{key:0})):Oe("",!0),i.loaded?(xt(),Qe(l,{key:1})):Oe("",!0),i.loaded?(xt(),Qe(c,{key:2})):Oe("",!0),i.loaded?(xt(),Qe(u,{key:3})):Oe("",!0)],64)}const qc=Ue(Bc,[["render",jc]]);Zn().setApp(document.querySelector("#app"));va(qc).mount("#app");
